<!DOCTYPE html><html lang="en">
  <head><!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-85831520-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-85831520-1');
		
	</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>COVID-19 worldwide analysis (up to 2020-03-14) - Jingwen Zheng</title>

<meta name="description" content="Since mid February, the situation of COVID-19 in China begins to be stable, but it propagates in the Rest of the World. In this blog, I'll talk about its pro...">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>COVID-19 worldwide analysis (up to 2020-03-14) | Jingwen Zheng</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="COVID-19 worldwide analysis (up to 2020-03-14)" />
<meta name="author" content="Jingwen Zheng" />
<meta property="og:locale" content="en" />
<meta name="description" content="Since mid February, the situation of COVID-19 in China begins to be stable, but it propagates in the Rest of the World. In this blog, I’ll talk about its propagation around the world." />
<meta property="og:description" content="Since mid February, the situation of COVID-19 in China begins to be stable, but it propagates in the Rest of the World. In this blog, I’ll talk about its propagation around the world." />
<link rel="canonical" href="https://jingwen-z.github.io//covid-19-analysis-2/" />
<meta property="og:url" content="https://jingwen-z.github.io//covid-19-analysis-2/" />
<meta property="og:site_name" content="Jingwen Zheng" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-15T19:17:18+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="COVID-19 worldwide analysis (up to 2020-03-14)" />
<meta name="twitter:site" content="@Jingwen_QI" />
<meta name="twitter:creator" content="@Jingwen Zheng" />
<script type="application/ld+json">
{"headline":"COVID-19 worldwide analysis (up to 2020-03-14)","description":"Since mid February, the situation of COVID-19 in China begins to be stable, but it propagates in the Rest of the World. In this blog, I’ll talk about its propagation around the world.","datePublished":"2020-03-15T19:17:18+01:00","dateModified":"2020-03-15T19:17:18+01:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jingwen-z.github.io//covid-19-analysis-2/"},"url":"https://jingwen-z.github.io//covid-19-analysis-2/","author":{"@type":"Person","name":"Jingwen Zheng"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<!-- Extra Open Graph :: Start -->

<!-- Extra Open Graph :: End -->

<link rel="canonical" href="https://jingwen-z.github.io//covid-19-analysis-2/"><link rel="alternate" type="application/rss+xml" title="Jingwen Zheng" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24">
<style type="text/css">
	.st0{fill:#515151;}
</style>
<path class="st0" d="M1.7,22.3c5.7-5.7,11.3-5.7,17,0c3.3-3.3,3.5-5.3,0.8-6c2.7,0.7,3.5-1.1,2.3-5.6s-3.3-5.2-6.3-2.1
	c3-3,2.3-5.2-2.1-6.3S7,1.8,7.7,4.6C7,1.8,5,2.1,1.7,5.3C7.3,11,7.3,16.7,1.7,22.3"/>
</svg>

          <a title="Data Science Enthusiast
" href="/">Jingwen Zheng</a>
        </div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/portfolio">Portfolio</a></li><li class="navigation__item"><a href="/archive">Archive</a></li><li class="navigation__item"><a href="/about">About</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class="article__header--overlay"><div class="hero hero--dark overlay" style="background-image:linear-gradient(135deg, rgba(0, 0, 0, .6), rgba(0, 0, 0, .4)),url(/images/20200315-world-map.png);background-color:#203028;"><div class="hero__content"><div class ="main"><div class="article__info clearfix"><ul class="left-col menu"><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=analysis">analysis</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=COVID-19">COVID-19</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=visualisation">visualisation</a>
            </li></ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Mar 15, 2020</span>
            </li></ul></div><div class="article__header"><header><h1>COVID-19 worldwide analysis (up to 2020-03-14)</h1></header></div><p class="overlay__excerpt">Since mid February, the situation of COVID-19 in China begins to be stable, but it propagates in the Rest of the World. In this blog, I'll talk about its propagation around the world.</p></div></div>
              </div>
            </div><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><meta itemprop="headline" content="COVID-19 worldwide analysis (up to 2020-03-14)"><meta itemprop="author" content="Jingwen Zheng"/><meta itemprop="datePublished" content="2020-03-15T19:17:18+01:00">
    <meta itemprop="keywords" content="analysis,COVID-19,visualisation"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><p>Since mid February, the situation of COVID-19 in China begins to be stable, but
it propagates in the Rest of the World. In this blog, I’ll talk about its
propagation with the following points:</p>
<ul>
  <li>Confirmed cases</li>
  <li>Countries’ distribution</li>
  <li>Demography</li>
  <li>Daily cumulative confirmed count for each country (without China)</li>
  <li>Daily new cases evolution</li>
  <li>Measures in European countries</li>
</ul>

<h2 id="confirmed-cases">Confirmed cases</h2>

<p align="center">
  <img alt="20200315-china-row-cumul" src="/images/20200315-china-row-cumul.png" />
</p>

<p>According to this graph, we find that since around 22 February, COVID-19 in
China begins to be stable, but it propagates in the Rest of World. As of 14
March, there were about 156038 cases of COVID-19, an increase of 10817 cases
from the previous day. The new confirmed evolution per day is about 50% for the
whole world.</p>

<p align="center">
  <img alt="20200315-china-row-actual" src="/images/20200315-china-row-actual.png" />
</p>

<p>This graph describes the actual confirmed count for China and the Rest Of World.
Since 19 February, China’s actual confirmed cases decrease continuously and
after 8 March, China’s actual confirmed cases start to be less than ROW.</p>

<h2 id="countries-distribution">Countries’ distribution</h2>
<p align="center">
  <img alt="20200315-countries-nb" src="/images/20200315-countries-nb.png" />
</p>

<p align="center">
  <img alt="20200315-pie" src="/images/20200315-pie.png" />
</p>

<p>As of 14 March, there are 148 countries who have confirmed COVID-19 cases. Among
these countries, 40% are in Europe, 25% are Asian countries, nearly 16% are in
Africa, 18% are in North and South America, others are in Australia. In terms of
confirmed cases, 54.3% are in Europe, 41% for Asia, the rest are in other
continents.</p>

<h2 id="demography">Demography</h2>

<p align="center">
  <img alt="20200315-countries-population" src="/images/20200315-countries-population.png" />
</p>

<p>Here, I take only the top 20 countries in terms of actual cases number. As of 14
March, Italy has nearly 17500 confirmed cases, which is more than other countries.
For the plot below, I calculated the confirmed count per 1 million persons for
each country, and found that in China every million persons have 57 confirmed
cases. You might say “it’s not that much”, but please don’t forget that Chinese
make effort to restrain the propagation of COVID-19. Now let’s see other
countries. In Italy, there are 350 cases among each 1 million people, which is
nearly 6 times more than China. In Norway, 200 cases for each 1 million people.
Nearly 150 cases for 1 million people in South Korea, Iran and Spain. There
should be various reasons for this situation, such as people don’t pay attention
on it, medical resources are not enough, people don’t understand well about the
virus, etc.</p>

<h2 id="daily-cumulative-confirmed-count-for-each-country-without-china">Daily cumulative confirmed count for each country (without China)</h2>

<p align="center">
  <img src="/images/20200315-country-timeline.gif" style="max-width: 720px" alt="20200315-country-timeline" />
</p>

<h2 id="daily-new-cases-evolution">Daily new cases evolution</h2>

<p align="center">
  <img alt="20200315-countries-top12-evol" src="/images/20200315-countries-top12-evol.png" />
</p>

<p>According to this plot, we observe that the outbreak in both Italy and Iran is
around 21 February, if the incubation is regarded as 14 days, we can deduce that
the first source of infection arrived in Italy and Iran on around 7 February.
Then the outbreak in Spain, Germany, France, US, Switzerland, Norway and Sweden
were nearly at the same moment, which was 1 week later than Italy. Considering
the restraint of moving in Europe or between Europe and US is not that restricted,
which accelerated the propagation. Moreover, since 22 February Italy imposed the
quarantine of 11 municipalities in north Italy, so that the evolution get
decreasing day by day, it shows that the first measure of Italy has its
significance.</p>

<h2 id="measures-in-european-countries">Measures in European countries</h2>

<p align="center">
  <img alt="20200315-european-countries" src="/images/20200315-european-countries.png" />
</p>

<h3 id="italy">Italy</h3>
<p>On 22 February, the government announced a new decree imposing the quarantine
of more than 50,000 people from 11 different municipalities in Northern Italy.
The quarantine zones are called the Red Zones and the areas in Lombardy and
Veneto outside of them are called the Yellow Zones. Penalties for violations
range from a €206 fine to three months of imprisonment. The Italian military
and law enforcement agencies were instructed to secure and implement the
lockdown.</p>

<p>On 4 March, the Italian government imposed the shutdown of all schools and
universities nationwide for two weeks as the country reached 100 deaths from the
outbreak. The same day, the government ruled that all sporting events in Italy
would be played behind closed doors until 3 April.</p>

<p>In the night between 7 and 8 March, the government approved a decree to lock
down Lombardy and fourteen other provinces in Veneto, Emilia-Romagna, Piedmont
and Marche, involving more than 16 million people. The decree “absolutely
avoided any movement into and out of the areas” and, like the previous one, it
provided sanctions of up to three months in prison for those who violated the
lockdown. It was possible to move into and out of the areas only for
emergencies or “proven working needs”, which must be authorized by the prefect.
The decree also established the closure of all gyms, swimming pools, spas and
wellness centres. Shopping centres had to be closed on weekends, while other
commercial activities could remain open if a distance of one metre between
customers could be guaranteed. The decree imposed the closure of museums,
cultural centres and ski resorts in the lockdown areas and the closure of
cinemas, theatres, pubs, dance schools, game rooms, betting rooms and bingo
halls, discos and similar places in the entire country.</p>

<p>In the evening of 9 March, Conte announced in a press conference that all
measures previously applied only in the so-called “red zones” had been
extended to the whole country, putting approximately 60 million people in
lockdown.</p>

<p>In the evening of 11 March, Conte announced a tightening of the lockdown, with
all commercial and retail businesses except those providing essential services,
like grocery stores and pharmacies, closed down.</p>

<h3 id="spain">Spain</h3>
<p>On 9 March, President of the regional government of Madrid, Isabel Díaz Ayuso,
announced the cancellation of classes in the Autonomous community of Madrid at
all educational levels due to the strong increase in cases in the region, a
measure that would affect more than 1.5 million students. On 12 March,
nationwide closure of schools after all Autonomous Communities order it. More
than 10 million students (1 million from university and 9 million from schools)
ordered to stay at home for a period of two weeks. On 14 March, the Spanish
government imposes a nationwide lockdown, bans all trips that are not force
majeure and announces it may intervene in companies to guarantee supplies.</p>

<h3 id="germany">Germany</h3>
<p>On 13 March, 14 of the 16 German federal states decided to close their schools
and nurseries for the next few weeks. Germany’s neighbours Czech Republic,
Poland and Denmark closed their borders.</p>

<h3 id="france">France</h3>
<p>France has a plan to the coronavirus pandemic, which is based on the Orsan plan
and more specifically the Orsan REB component, devoted to epidemic and
biological risks. It was launched on February 23 by Olivier Véran, Minister of
Solidarity and Health. This plan has four stages:</p>
<ul>
  <li>Stage 1 is that where “the virus is not in general circulation in
the population”; it must make it possible to slow down the introduction of the
virus into France;</li>
  <li>Stage 2 aims to slow the spread of the virus across the country;</li>
  <li>Stage 3 corresponds to a free circulation of the virus on the territory, and
aims to mitigate the effects of the pandemic;</li>
  <li>Stage 4 notes the return to a normal situation.</li>
</ul>

<p>On 28 February, France passed to “Stage 2”. Gatherings are prohibited in the
Oise, in the municipalities of Creil, Crépy-en-Valois, Vaumoise, Lamorlaye and
Lagny-le-Sec must limit moving and close schools.</p>

<p>On 12 March, president of France Emmanuel Macron announced on public television
that all schools and all universities would close from Monday 16 March until
further notice. The next day, the prime minister Édouard Philippe banned
gatherings of more than 100 people, not including public transportation. The
following day, the prime minister ordered the closure of all nonessential
public places, including restaurants, cafés, cinemas, and discothèques,
effective at midnight.</p>

<p>On 14 March, stage 3 of the Orsan REB plan is activated in the event of a
doubling of contamination in 72 hours. Prime Minister Édouard Philippe
announced from midnight on March 15 and until further notice, the closure of
all “non-essential” public places. Exceptions are pharmacies, banks, food
stores, gas stations, tobacconists and newsagents.</p>

<h3 id="switzerland">Switzerland</h3>
<p>On 28 February, the Federal Council announced an immediate ban on all public and
private events involving more than 1000 participants, as one of the efforts to
curb the spread of COVID-19 infection. Further, events of 150 or more now need
federal permission. (SwissWatch) Multiple prominent events were cancelled
including the Geneva Motor Show, which was attended by 660,000 people in 2018.</p>

<p>On 13 March 2020, the Federal Council decided to cancel classes in all
educational establishments until 4 April 2020, and has banned all events (public
or private) involving more than 100 people. It has also decided to partially
close its borders and enacted border controls.The canton of Vaud took more
drastic measures, prohibiting all public and private gatherings with more than
50 people, and closing its educational establishments until 30 April.</p>

<h3 id="uk">UK</h3>
<p>On 3 March, the government declared the coronavirus outbreak as a “level 4
incident”, permitting NHS England to take command of all NHS resources. Planning
has been made for behaviour changing publicity including good hygiene and
respiratory hygiene (“catch it, bin it, kill it”), a simple measure which helps
in delaying the peak of the infection and buys time for the testing of drugs and
initial development of vaccines.</p>

<p>On 14 March, the UK’s chief scientific adviser has said the government wants 60
percent of the population to catch coronavirus to try and create “herd immunity”
to protect against the virus becoming an annual crisis.</p>

<h3 id="norway">Norway</h3>
<p>On 12 March a national lock-down was announced, effective from 18:00 the same
day. For two weeks, schools, kindergartens, fitness centres, hair salons etc.
are closed. Sports and cultural events and gatherings are banned and
restrictions apply to restaurants. These measures are in line with the those
introduced in other European countries such as Denmark and Italy. The same day,
it had its first death due to the COVID-19 virus.</p>

<h3 id="sweden">Sweden</h3>
<p>On 10 March, the Public Health Agency of Sweden raised the level of risk of the
virus spreading from “high” to “very high”, which is the highest level. This
comes after news that there are indications of ongoing local transmission in
the Stockholm and Västra Götaland area.</p>

<p>On 11 March the Stockholm region decided to only test hospitalised patients
from risk groups and health care staff with symptoms. Other regions will follow
suit within the coming week. This means the data on the Public Health Agency of
Swedens website is not reflecting the actual infected persons in the country,
since local transmission has been ongoing since at least early March. The
government has banned all gatherings larger than 500 people, under threat of
fines and a six-month prison sentence.</p>

<h3 id="netherlands">Netherlands</h3>
<p>On 12 March, the government announced new measures that will be in effect
through the end of the month. All events (concerts, sports) and all work
meetings with more than 100 people are now forbidden and the RIVM is encouraging
people to work from home. The restriction also applies to museums. All Dutch
universities will suspend physical teaching until 1 April, but online teaching
will continue. Schools remain open.</p>

<h3 id="denmark">Denmark</h3>
<p>Starting 13 March 2020, all people working in non-essential functions in the
public sector must stay home for two weeks.[74] In the private sector, employers
are urged by the authorities to allow their employees to stay home in the same
period and work from there if possible, although this should not affect
functions that are essential to the society (such as pharmacy workers and people
working with sale of food and maintenance of critical infrastructure).</p>

<p>Starting 13 March, all secondary education (like gymnasiums), universities,
libraries, indoor cultural institutions and similar places will be closed for
two weeks. Starting on 16 March, all primary schools, daycare and similar places
will be closed for two weeks. Virtual (online) schooling will be used to some
degree. The municipalities are establishing limited daycare for children where
the parents could not stay home and take care of them. Because of the
vulnerability of elderly to COVID-19, it is strongly recommended that
grandparents should not take care of their grandchildren.</p>

<p>If you are interested in the scripts, please find them <a href="https://github.com/jingwen-z/python-playground/blob/master/analysis/2019_nCoV/2019_nCoV.ipynb">here</a>.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Isaac Lin, “DXY-COVID-19-Data”, <em>www.github.com</em>. [Online]. Available: <a href="https://github.com/BlankerL/DXY-COVID-19-Data">https://github.com/BlankerL/DXY-COVID-19-Data</a></li>
  <li>CSSEGISandData, “csse_covid_19<em>data”, _www.github.com</em>. [Online]. Available: <a href="https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports">https://github.com/CSSEGISandData/COVID-19/tree/master/csse_covid_19_data/csse_covid_19_daily_reports</a></li>
  <li>William Feuer, “Italy expands its quarantine to the entire country as coronavirus cases and deaths surge”, <em>www.cnbc.com</em>. [Online]. Available: <a href="https://www.cnbc.com/2020/03/09/italy-extends-its-quarantine-to-the-entire-country-pm-asks-residents-to-stay-at-home.html">https://www.cnbc.com/2020/03/09/italy-extends-its-quarantine-to-the-entire-country-pm-asks-residents-to-stay-at-home.html</a></li>
  <li>“2020 coronavirus pandemic in Italy”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Italy">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Italy</a></li>
  <li>“2020 coronavirus pandemic in Spain”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Spain">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Spain</a></li>
  <li>“2020 coronavirus pandemic in Germany”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Germany">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Germany</a></li>
  <li>“2020 coronavirus pandemic in Switzerland”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Switzerland">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Switzerland</a></li>
  <li>“2020 coronavirus pandemic in France”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_France">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_France</a></li>
  <li>“2020 coronavirus pandemic in the United Kingdom”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_the_United_Kingdom#cite_note-92">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_the_United_Kingdom#cite_note-92</a></li>
  <li>“2020 coronavirus pandemic in Norway”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Norway">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Norway</a></li>
  <li>“2020 coronavirus pandemic in Sweden”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Sweden">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Sweden</a></li>
  <li>“2020 coronavirus pandemic in the Netherlands”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_the_Netherlands">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_the_Netherlands</a></li>
  <li>“2020 coronavirus pandemic in Denmark”, <em>en.wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Denmark">https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_Denmark</a></li>
</ul>

</div><section class="article__sharing d-print-none"></section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2020-03-15T19:17:18+01:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div></div><div class="article__license"><div class="license">
    <p>This work is licensed under a <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">Attribution-NonCommercial 4.0 International</a> license.
      <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">
        <img alt="Attribution-NonCommercial 4.0 International" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
      </a>
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/covid-19-does-france-underestimate-the-number-of-cases/">COVID-19: Does France underestimate the number of cases?</a></div><div class="next"><span>NEXT</span><a href="/covid-19-pandemic-spreads-of-top-10-countries/">COVID-19 pandemic spreads of TOP 10 countries</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"><div id="disqus_thread"></div>
  <script>
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  var disqus_config = function () {
    this.page.url = 'https://jingwen-z.github.io//covid-19-analysis-2/';
    this.page.identifier = '/covid-19-analysis-2';
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://jingwen-z.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jingwen Zheng"><meta itemprop="url" content="/"><meta itemprop="description" content="Data Science Enthusiast"><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><li title="Follow me on Linkedin.">
        <a class="button button--circle linkedin-button" itemprop="sameAs" href="https://www.linkedin.com/in/jingwen-zheng" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M260.096 155.648c0 27.307008-9.899008 50.516992-29.696 69.632-19.796992 19.115008-45.396992 28.672-76.8 28.672-30.036992 0-54.612992-9.556992-73.728-28.672-19.115008-19.115008-28.672-42.324992-28.672-69.632 0-28.672 9.556992-52.224 28.672-70.656 19.115008-18.432 44.372992-27.648 75.776-27.648 31.403008 0 56.32 9.216 74.752 27.648 18.432 18.432 28.331008 41.984 29.696 70.656 0 0 0 0 0 0m-202.752 808.96c0 0 0-632.832 0-632.832 0 0 196.608 0 196.608 0 0 0 0 632.832 0 632.832 0 0-196.608 0-196.608 0 0 0 0 0 0 0m313.344-430.08c0-58.708992-1.364992-126.292992-4.096-202.752 0 0 169.984 0 169.984 0 0 0 10.24 88.064 10.24 88.064 0 0 4.096 0 4.096 0 40.96-68.267008 105.812992-102.4 194.56-102.4 68.267008 0 123.220992 22.868992 164.864 68.608 41.643008 45.739008 62.464 113.664 62.464 203.776 0 0 0 374.784 0 374.784 0 0-196.608 0-196.608 0 0 0 0-350.208 0-350.208 0-91.476992-33.451008-137.216-100.352-137.216-47.787008 0-81.236992 24.576-100.352 73.728-4.096 8.192-6.144 24.576-6.144 49.152 0 0 0 364.544 0 364.544 0 0-198.656 0-198.656 0 0 0 0-430.08 0-430.08 0 0 0 0 0 0" />
</svg>
</div>
        </a>
      </li><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/jingwen-z" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© Jingwen Zheng 2021,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Search</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Cancel</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script>
    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>


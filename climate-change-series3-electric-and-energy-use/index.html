<!DOCTYPE html><html lang="en">
  <head><!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-85831520-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-85831520-1');
		
	</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>Climate change Series 3: Electric and energy use - Jingwen Zheng</title>

<meta name="description" content="World energy consumption is the total energy produced and used by the entire human civilization. Typically measured per year, it involves all energy harnesse...">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Climate change Series 3: Electric and energy use | Jingwen Zheng</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Climate change Series 3: Electric and energy use" />
<meta name="author" content="Jingwen Zheng" />
<meta property="og:locale" content="en" />
<meta name="description" content="World energy consumption is the total energy produced and used by the entire human civilization. Typically measured per year, it involves all energy harnessed from every energy source applied towards humanity’s endeavors across every single industrial and technological sector, across every country. In this blog, I will talk about energy consumption with the following points…" />
<meta property="og:description" content="World energy consumption is the total energy produced and used by the entire human civilization. Typically measured per year, it involves all energy harnessed from every energy source applied towards humanity’s endeavors across every single industrial and technological sector, across every country. In this blog, I will talk about energy consumption with the following points…" />
<link rel="canonical" href="https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/" />
<meta property="og:url" content="https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/" />
<meta property="og:site_name" content="Jingwen Zheng" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-27T21:34:05+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Climate change Series 3: Electric and energy use" />
<meta name="twitter:site" content="@Jingwen_QI" />
<meta name="twitter:creator" content="@Jingwen Zheng" />
<script type="application/ld+json">
{"description":"World energy consumption is the total energy produced and used by the entire human civilization. Typically measured per year, it involves all energy harnessed from every energy source applied towards humanity’s endeavors across every single industrial and technological sector, across every country. In this blog, I will talk about energy consumption with the following points…","@type":"BlogPosting","url":"https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/","headline":"Climate change Series 3: Electric and energy use","datePublished":"2019-09-27T21:34:05+02:00","dateModified":"2019-09-27T21:34:05+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/"},"author":{"@type":"Person","name":"Jingwen Zheng"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<!-- Extra Open Graph :: Start -->

<!-- Extra Open Graph :: End -->

<link rel="canonical" href="https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/"><link rel="alternate" type="application/rss+xml" title="Jingwen Zheng" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24">
<style type="text/css">
	.st0{fill:#515151;}
</style>
<path class="st0" d="M1.7,22.3c5.7-5.7,11.3-5.7,17,0c3.3-3.3,3.5-5.3,0.8-6c2.7,0.7,3.5-1.1,2.3-5.6s-3.3-5.2-6.3-2.1
	c3-3,2.3-5.2-2.1-6.3S7,1.8,7.7,4.6C7,1.8,5,2.1,1.7,5.3C7.3,11,7.3,16.7,1.7,22.3"/>
</svg>

          <a title="Data Science Enthusiast
" href="/">Jingwen Zheng</a>
        </div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/portfolio">Portfolio</a></li><li class="navigation__item"><a href="/archive">Archive</a></li><li class="navigation__item"><a href="/about">About</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class="article__header--overlay"><div class="hero hero--dark overlay" style="background-image:linear-gradient(135deg, rgba(0, 0, 0, .6), rgba(0, 0, 0, .4)),url(/images/20190927-light-bulb.jpg);background-color:#203028;"><div class="hero__content"><div class ="main"><div class="article__info clearfix">
      <ul class="left-col menu">
        <li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=analysis">analysis</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=climate">climate</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=visualisation">visualisation</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=geovisualisation">geovisualisation</a>
            </li>

      <li class="separator">|</li>
        
          <li>
            <a class="button button--circle button--primary focus lang"
               href="/climate-change-series3-electric-and-energy-use/"><span>EN</span></a>

            






            

            
          </li>
        
      
    </ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Sep 27, 2019</span>
            </li></ul></div><div class="article__header"><header><h1>Climate change Series 3: Electric and energy use</h1></header></div><p class="overlay__excerpt">World energy consumption is the total energy produced and used by the entire human civilization. Typically measured per year, it involves all energy harnessed from every energy source applied towar...</p></div></div>
              </div>
            </div><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><meta itemprop="headline" content="Climate change Series 3: Electric and energy use"><meta itemprop="author" content="Jingwen Zheng"/><meta itemprop="datePublished" content="2019-09-27T21:34:05+02:00">
    <meta itemprop="keywords" content="analysis,climate,visualisation,geovisualisation"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><p>World energy consumption is the total energy produced and used by the entire
human civilization. Typically measured per year, it involves all energy
harnessed from every energy source applied towards humanity’s endeavors across
every single industrial and technological sector, across every country. It does
not include energy from food, and the extent to which direct biomass burning
has been accounted for is poorly documented. Being the power source metric of
civilization, world energy consumption has deep implications for humanity’s
socio-economic-political sphere.</p>

<p>In this blog, I will talk about energy consumption with the following points:</p>
<ul>
  <li>Electric power consumption (kWh per capita)</li>
  <li>Energy use (kg of oil equivalent per capita)</li>
</ul>

<h2 id="electric-power-consumption-kwh-per-capita">Electric power consumption (kWh per capita)</h2>

<p align="center">
  <img src="/images/20190927-elec-power-hist-map.gif" style="max-width: 720px" alt="Electric power consumption evolution" />
</p>

<p>Although we lack data of some countries or regions, we can still find that the
electric power consumption doesn’t change a lot for almost countries or regions
and their electric power consumption is not that much in general; except for
China and the United States.</p>

<h3 id="china">China</h3>
<p>China’s electric power industry is the world’s largest electricity producer,
passing the United States in 2011 after rapid growth since the early 1990s.
Most of the electricity in China comes from coal, which accounted for 66% of
the electricity generation mix in 2016. Coal-fired electricity production
declined from 2013 to 2016 coinciding with a major boom in renewable energy,
and a decline in GDP growth.</p>

<p>In recent history, China’s power industry is characterized by fast growth and
an enormous installed base. In 2014, it had the largest installed electricity
generation capacity in the world with 1505 GW and generated 5583 TWh China also
has the largest thermal power capacity, the largest hydropower capacity, the
largest wind power capacity and the largest solar capacity in the world.
Despite an expected rapid increase in installed capacity scheduled in 2014 for
both wind and solar, and expected increase to 60 GW in nuclear by 2020, coal
will still account between 65% and 75% of capacity in 2020.</p>

<p>China is the largest producer and consumer of coal in the world and is the
largest user of coal-derived electricity. However, since 2014 coal as a
percentage of the energy mix has fallen, declining from 64% in 2015 to 62% in
2016 according to the National Bureau of Statistics. Hydroelectricity is
currently China’s largest renewable energy source and the second overall after
coal. China’s installed hydro capacity in 2015 was 319 GW, up from 172 GW in
2009, including 23 GW of pumped storage hydroelectricity capacity. In 2015,
hydropower generated 1126 TWh of power, accounting for roughly 20% of China’s
total electricity generation.</p>

<p>With its large land mass and long coastline, China has exceptional wind
resources: it is estimated China has about 2380 GW of exploitable capacity on
land and 200 GW on the sea. At the end of 2014, there was 114 GW of electricity
generating capacity installed in China, more than the total nameplate capacity
of China’s nuclear power stations, (although capacity of wind power is not on
par with capacity of nuclear power) and over the year 115000 gigawatt-hours of
wind electricity had been provided to the grid. In 2011, China’s plan was “to
have 100 gigawatts (GW) of on-grid wind power generating capacity by the end of
2015 and to generate 190 billion kilowatt hours (kWh) of wind power annually”.
China has identified wind power as a key growth component of the country’s
economy; researchers from Harvard and Tsinghua University have found that China
could meet all of their electricity demands from wind power through 2030.</p>

<p>In terms of nuclear power generation, China will advance from the moderate
development strategy to accelerating development strategy. Nuclear power will
play an even more important role in China’s future power development.
Especially in the developed coastal areas with heavy power load, nuclear power
will become the backbone of the power structure there. China is the world’s
largest market for both photovoltaics and solar thermal energy. Since 2013
China has been the world’s leading installer of solar photovoltaics. Solar PV
in China is a growing industry with over 400 companies. In 2015, China became
the world’s largest producer of photovoltaic power, narrowly surpassing
Germany. Of the 6412 TWh electricity produced in China in 2017, 118.2 TWh was
generated by solar power, equivalent to 1.84% of total electricity production.</p>

<h3 id="us">US</h3>
<p>The United States is the world’s second largest producer and consumer of
electricity. It consumes about 20% of the world’s electricity supply.</p>

<p>The United States has an installed summer electricity generation capacity of
1072.46 GW in 2017, down 1.8 GW from 2016. The US electricity generation was
4034.3 TWh in 2017. The US’s net imports were 56.31 TWh, for a total of 4090.6
TWh of electrical energy use. Electrical energy generated from coal was 1205.84
TWh (29.48%); natural and other gases, 1308.89 TWh (32.0%); nuclear, 804.95 TWh
(19.68%); hydro, 300.33 TWh (7.34%); Renewables (other than hydro), 386.28 TWh
(9.45%); imports less exports, 56.31 TWh (1.38%); petroleum, 21.39 TWh (0.52%);
and miscellaneous (including pumped storage), 6.59 TWh (0.16%). The US’s
renewable sources (hydro reported separately) are wind, 254.30 TWh (6.22%);
wood, 41.15 TWh (1.01%); other biomass, 21.61 TWh (0.53%); geothermal, 15.93
TWh (0.39%) and solar, 53.29 TWh (1.3%). Small-scale solar is estimated to have
produced an additional 23.99 TWh. Natural gas electricity generation exceeded
generation from coal for the first time in 2016 and continued in 2017.</p>

<p>Renewable energy in the United States accounted for 13.2% of the domestically
produced electricity in 2014, and 11.2% of total energy generation. Renewable
energy reached a major milestone in the first quarter of 2011, when it
contributed 11.7% of total US energy production, surpassing nuclear energy
production. Hydroelectric power is currently the largest producer of renewable
energy in the US. It produced around 6.2% of the nation’s total electricity in
2010 which was 60.2% of the total renewable energy in the US. The United States
is the fourth largest producer of hydroelectricity in the world after China,
Canada, and Brazil. US wind power’s installed capacity now exceeds 65000 MW and
supplies 4% of the nation’s electric power. The United States has some of the
largest solar farms in the world. Solar Star is a 579-megawatt (MWAC) farm near
Rosamond, California.</p>

<p align="center">
  <img alt="Electric consumption top 3" src="/images/20190927-electric-consumption-top3.png" />
</p>

<p>The world’s electric power consumption(kWh per capita) increases 161%(1200.1
kWh to 3132.1 kWh) respectively between 1971 and 2014. For the electric power
consumption(kWh per capita), the top 3 countries are Iceland, Norway and
Bahrain. Considering it’s the value per capita, so one reason why they are the
“top 3” is their population is lower than others, which increases consumption
per capita.</p>

<h3 id="iceland">Iceland</h3>
<p>Renewable sources—geothermal and hydropower—provide effectively all of
Iceland’s electricity and around 85% of the nation’s total primary energy
consumption, with most of the remainder consisting of imported oil products
used in transportation and in the fishing fleet. Iceland expects to be
energy-independent by 2050. Iceland’s largest geothermal power plants are
Hellisheiði and Nesjavellir, while Kárahnjúkar Hydropower Plant is the
country’s largest hydroelectric power station. When the Kárahnjúkavirkjun
started operating, Iceland became the world’s largest electricity producer per
capita. Iceland is one of the few countries that have filling stations
dispensing hydrogen fuel for cars powered by fuel cells. It is also one of a
few countries currently capable of producing hydrogen in adequate quantities at
a reasonable cost, because of Iceland’s plentiful renewable sources of energy.</p>

<h3 id="norway">Norway</h3>
<p>Hydropower generation capacity is around 31 GW in 2014, when 131 TWh was
produced; about 95% of total production. Of the total production in 2011 of 128
TWh; 122 TWh was from hydroelectric plants, 4795 GWh was from thermal power,
and 1283 GWh was wind generated. In the same year, the total consumption was
114 TWh. Hydro production can vary 60 TWh between years, depending on the
amount of precipitation, and the remaining hydro potential is about 34 TWh.</p>

<p>The annual electricity consumption was about 26-27 MWh per inhabitant during
2004-2009 when the European Union (EU15) average in 2008 was 7.4 MWh. Norway’s
consumption of electricity was over three times higher per person compared to
the EU 15 average in 2008. The domestic electricity supply promotes use of
electricity, and it is the most common energy source for heating floors and hot
water.</p>

<h3 id="bahrain">Bahrain</h3>
<p>Bahrain could provide itself completely with self-produced energy. The total
production of all electric energy producing facilities is 27 bn kWh, which is
103% of the countries own usage. Despite this, Bahrain is trading energy with
foreign countries. Along with pure consumption the production, imports and
exports play an important role. Other energy sources such as natural gas or
crude oil are also used.</p>

<h2 id="energy-use-kg-of-oil-equivalent-per-capita">Energy use (kg of oil equivalent per capita)</h2>

<p align="center">
  <img src="/images/20190927-energy-use-hist-map.gif" style="max-width: 720px" alt="Energy use evolution" />
</p>

<p>Similar as the electric power consumption, we can find that the energy use
doesn’t change a lot for almost countries or regions and their energy use is
not that much in general; except for China and the United States.</p>

<h3 id="china-1">China</h3>
<p>Ensuring adequate energy supply to sustain economic growth has been a core
concern of the Chinese government since 1949. Primary energy use in China was
26250 TWh and 20 TWh per million persons in 2009. According to the
International Energy Agency, the primary energy use grew 40% from 2004 to 2009.</p>

<p>The energy import was three times bigger in 2009 compared to 2004. The share of
energy import of the primary energy use was 12% in 2009. China is also the
world’s largest renewable energy producer. China is the largest producer of
hydroelectricity, solar power and wind power in the world.</p>

<p>In the industrial sector, six industries – electricity generation, steel,
non-ferrous metals, construction materials, oil processing and chemicals –
account for nearly 70% of energy use.</p>

<p>Coal remains the foundation of the Chinese energy system, covering close to 70
percent of the country’s primary energy needs and representing 80 percent of
the fuel used in electricity generation. China is the world’s top coal producer
and ranks third in the amounts of coal reserves. China consumes more coal than
any other country. Analysis in 2016 shows that China’s coal consumption appears
to have peaked in 2014.</p>

<h3 id="us-1">US</h3>
<p>The United States was the second-largest energy consumer in 2010 after China.
The country is ranked seventh in energy consumption per capita after Canada and
several small nations. Not included is the significant amount of energy used
overseas in the production of retail and industrial goods consumed in the
United States.</p>

<p>Most of this energy comes from fossil fuels: in 2010, data showed that 25% of
the nation’s energy originates from petroleum, 22% from coal, and 22% from
natural gas. Nuclear energy supplied 8.4% and renewable energy supplied 8%,
mainly from hydroelectric dams and biomass; however, this also includes other
renewable sources like wind, geothermal, and solar. As of 2006, energy
consumption had increased more rapidly than domestic energy production over the
last 50 years in the nation (when they were roughly equal). This difference was
largely met through imports.</p>

<p>Oil is one of the largest sources of energy in the United States. The United
States influences world oil reserves for both growth and development. As the
20th century progressed, petroleum gained increasing importance by providing
heating and electricity to the commercial and industrial sectors. Oil was also
used in transportation; first for railroads and later for motor vehicles.</p>

<p>Natural gas was the largest source of energy production in the United States in
2016, representing 33% of all energy produced in the country. Natural gas has
been the largest source of electrical generation in the United States since
July 2015.</p>

<p>Generation of electricity is the largest user of coal, although its use is in
decline. About 50% of electric power was produced by coal in 2005, declining to
30% in 2016. Electric utilities buy more than 90% of the coal consumed in the
United States.</p>

<p align="center">
  <img alt="Energy use top 3" src="/images/20190927-energy-use-top3.png" />
</p>

<p>The world’s energy use(kg of oil equivalent per capita) increases 44%(1337 kg
to 1922.5 kg) respectively between 1971 and 2014. For the energy use(kg of oil
equivalent per capita), the top 3 countries are Qatar, Iceland and Trinidad and
Tobago. Considering it’s the value per capita, so one reason why they are the
“top 3” is their population is lower than others, which increases consumption
per capita.</p>

<h3 id="qatar">Qatar</h3>
<p>Since 2007, natural gas production in Qatar has significantly increased and is
the primary fuel chosen for energy consumption within Qatar. In 2014, Qatar
ranked as the fourth highest natural gas producer worldwide. In 2015, Qatar was
ranked as the 17th top producer of crude oil worldwide at an approximate 1.532
million bbl/day. In 2013, Qatar also ranked as the 11th top exporter of crude
oil at an approximate 1.303 million bbl/day. With high production of crude oil,
Qatar is one of the few countries that has little crude oil dependence on other
countries for domestic energy consumption.</p>

<p>In 2009, Qatar was the 7th top producer of natural gas (2.9%) in the world, 75%
of the natural gas production was exported in 2009 (67/89 bm3).</p>

<p>Harnessing solar power has become an important objective for Qatar in recent
years. By 2030, Qatar has set the goal of attaining 20% of its energy from
solar power. The country is well-positioned to capitalize on photovoltaic
systems, as it has a global horizontal irradiance value of approximately 2140
kWh per square meter annually. Furthermore, the direct irradiance parameter is
roughly 2008 kWh per square meter annually, implying that it would be able to
benefit from concentrated solar power as well.</p>

<h3 id="iceland-1">Iceland</h3>
<p>About 85% of the total primary energy supply in Iceland is derived from
domestically produced renewable energy sources. This is the highest share of
renewable energy in any national total energy budget. In 2013 Iceland became a
producer of wind energy. In 2015, renewable energy provided almost 100% of
electricity production, with about 73% coming from hydropower and 27% from
geothermal power. In 2016 geothermal energy provided about 65% of primary
energy, the share of hydropower was 20%, and the share of fossil fuels (mainly
oil products for the transport sector) was 15%.[1] The main use of geothermal
energy is for space heating, with the heat being distributed to buildings
through extensive district-heating systems. About 85% of all houses in Iceland
are heated with geothermal energy.</p>

<h3 id="trinidad-and-tobago">Trinidad and Tobago</h3>
<p>Trinidad and Tobago is the region’s leading exporter of oil and gas but imports
of fossil fuels provided over 90% of the energy consumed by its CARICOM
neighbours in 2008.</p>

<p>Renewable energies include wind, solar, biomass and geothermal energy sources.
This means all energy sources that renew themselves within a short time or are
permanently available. Energy from hydropower is only partly a renewable
energy. This is certainly the case with river or tidal power plants. Otherwise,
numerous dams or reservoirs also produce mixed forms, e.g. by pumping water
into their reservoirs at night and recovering energy from them during the day
when there is an increased demand for electricity. Since it is not possible to
clearly determine the amount of generated energy, all energy from hydropower
are displayed separately.</p>

<h3 id="conclusion">Conclusion</h3>
<p>We use electricity and energy everyday in our life. It’s really important to
optimise energy consumption. What can we do? We can make a habit of turning
off all lights and electronics when not in use; switch your incandescent
lightbulbs to LED bulbs; use power strips for multiple gadgets; turn off your
computer when it’s not in use; adjust your thermostat based on the temperature
outside; recycle all recyclable materials or decorate your space in light
colors, etc.</p>

<p>You can find all codes in <a href="https://github.com/jingwen-z/python-playground/blob/master/analysis/Climate%20change/electric_energy_use_analysis.ipynb">this notebook</a>.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>“Climate Change”, <em>data.worldbank.org</em>. [Online]. Available: <a href="https://data.worldbank.org/topic/climate-change?end=2018&amp;start=1973">https://data.worldbank.org/topic/climate-change?end=2018&amp;start=1973</a></li>
  <li>“World energy consumption”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/World_energy_consumption">https://en.wikipedia.org/wiki/World_energy_consumption</a></li>
  <li>“Electricity sector in China”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Electricity_sector_in_China">https://en.wikipedia.org/wiki/Electricity_sector_in_China</a></li>
  <li>“Energy in the United States”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Energy_in_the_United_States#Electricity">https://en.wikipedia.org/wiki/Energy_in_the_United_States#Electricity</a></li>
  <li>“Iceland Energy”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Iceland#Energy">https://en.wikipedia.org/wiki/Iceland#Energy</a></li>
  <li>“Electricity sector in Norway”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Electricity_sector_in_Norway">https://en.wikipedia.org/wiki/Electricity_sector_in_Norway</a></li>
  <li>“Bahrain energy consumption”, <em>worlddata.info</em>. [Online]. Available: <a href="https://www.worlddata.info/asia/bahrain/energy-consumption.php">https://www.worlddata.info/asia/bahrain/energy-consumption.php</a></li>
  <li>“Energy policy of China”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Energy_policy_of_China">https://en.wikipedia.org/wiki/Energy_policy_of_China</a></li>
  <li>“Energy in Qatar”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Energy_in_Qatar">https://en.wikipedia.org/wiki/Energy_in_Qatar</a></li>
  <li>“Renewable energy in Iceland”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Renewable_energy_in_Iceland">https://en.wikipedia.org/wiki/Renewable_energy_in_Iceland</a></li>
  <li>“Trinidad and Tobago”, <em>wikipedia.org</em>. [Online]. Available: <a href="https://en.wikipedia.org/wiki/Trinidad_and_Tobago">https://en.wikipedia.org/wiki/Trinidad_and_Tobago</a></li>
  <li>“Trinidad and Tobago energy consumption”, <em>worlddata.info</em>. [Online]. Available: <a href="https://www.worlddata.info/america/trinidad-and-tobago/energy-consumption.php">https://www.worlddata.info/america/trinidad-and-tobago/energy-consumption.php</a></li>
  <li>“How to Reduce Your Energy Consumption”, <em>wikihow.com</em>. [Online]. Available: <a href="https://www.wikihow.com/Reduce-Your-Energy-Consumption">https://www.wikihow.com/Reduce-Your-Energy-Consumption</a></li>
  <li>ColiN00B, “Light bulb idea creativity socket”, <em>pixabay.com</em>. [Online]. Available: <a href="https://pixabay.com/photos/light-bulb-idea-creativity-socket-3104355/">https://pixabay.com/photos/light-bulb-idea-creativity-socket-3104355/</a></li>
</ul>

</div><section class="article__sharing d-print-none"></section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2019-09-27T21:34:05+02:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div></div><div class="article__license"><div class="license">
    <p>This work is licensed under a <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">Attribution-NonCommercial 4.0 International</a> license.
      <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">
        <img alt="Attribution-NonCommercial 4.0 International" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
      </a>
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/climate-change-series-2-co2-emission/">Climate change Series 2: CO2 emission</a></div><div class="next"><span>NEXT</span><a href="/climate-change-series4-forest-area/">Climate change Series 4: Forest area</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"><div id="disqus_thread"></div>
  <script>
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  var disqus_config = function () {
    this.page.url = 'https://jingwen-z.github.io//climate-change-series3-electric-and-energy-use/';
    this.page.identifier = '/climate-change-series3-electric-and-energy-use';
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://jingwen-z.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jingwen Zheng"><meta itemprop="url" content="/"><meta itemprop="description" content="Data Science Enthusiast"><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><li title="Follow me on Linkedin.">
        <a class="button button--circle linkedin-button" itemprop="sameAs" href="https://www.linkedin.com/in/jingwen-zheng" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M260.096 155.648c0 27.307008-9.899008 50.516992-29.696 69.632-19.796992 19.115008-45.396992 28.672-76.8 28.672-30.036992 0-54.612992-9.556992-73.728-28.672-19.115008-19.115008-28.672-42.324992-28.672-69.632 0-28.672 9.556992-52.224 28.672-70.656 19.115008-18.432 44.372992-27.648 75.776-27.648 31.403008 0 56.32 9.216 74.752 27.648 18.432 18.432 28.331008 41.984 29.696 70.656 0 0 0 0 0 0m-202.752 808.96c0 0 0-632.832 0-632.832 0 0 196.608 0 196.608 0 0 0 0 632.832 0 632.832 0 0-196.608 0-196.608 0 0 0 0 0 0 0m313.344-430.08c0-58.708992-1.364992-126.292992-4.096-202.752 0 0 169.984 0 169.984 0 0 0 10.24 88.064 10.24 88.064 0 0 4.096 0 4.096 0 40.96-68.267008 105.812992-102.4 194.56-102.4 68.267008 0 123.220992 22.868992 164.864 68.608 41.643008 45.739008 62.464 113.664 62.464 203.776 0 0 0 374.784 0 374.784 0 0-196.608 0-196.608 0 0 0 0-350.208 0-350.208 0-91.476992-33.451008-137.216-100.352-137.216-47.787008 0-81.236992 24.576-100.352 73.728-4.096 8.192-6.144 24.576-6.144 49.152 0 0 0 364.544 0 364.544 0 0-198.656 0-198.656 0 0 0 0-430.08 0-430.08 0 0 0 0 0 0" />
</svg>
</div>
        </a>
      </li><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/jingwen-z" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© Jingwen Zheng 2021,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Search</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Cancel</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script>
    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>


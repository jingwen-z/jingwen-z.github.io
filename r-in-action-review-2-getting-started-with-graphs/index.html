<!DOCTYPE html><html lang="en">
  <head><!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-85831520-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-85831520-1');
		
	</script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><title>R IN ACTION Review 2 - Getting started with graphs - Jingwen Zheng</title>

<meta name="description" content="This blog reviews general methods for working with graphs. We’ll begin with howto create and save graphs, then talk about how to modify the features of graph...">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>R IN ACTION Review 2 - Getting started with graphs | Jingwen Zheng</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="R IN ACTION Review 2 - Getting started with graphs" />
<meta name="author" content="Jingwen Zheng" />
<meta property="og:locale" content="en" />
<meta name="description" content="This blog reviews general methods for working with graphs. We’ll begin with how to create and save graphs, then talk about how to modify the features of graph. Creating and saving graphs Creating a new graph by issuing a high-level plotting command such as plot(), hist(), or boxplot() typically overwrites a previous graph. But how to create more than one graph and still have access to each? There are several methods. First, we can open a new graph window before creating a new graph: dev.new() statements to create graph 1 dev.new() statements to create graph 2 Each new graph will appear in the most recently opened window. Then we can use the functions dev.new(), dev.next(), dev.prev(), dev.set() and dev.off() to have multiple graph window open at one time and choose which output is sent to which window. See help(dev.cur) for details. If you want to save your graphs, you can do it via the following codes, sandwich the statements that produce the graph berween a statement that sets a destination and a statement that closes that destination. pdf(&quot;my-graph.pdf&quot;) plot(mtcars$wt, mtcars$mpg) abline(lm(mtcars$mpg ~ mtcars$wt)) title(&quot;Regression of MPG on Weight&quot;) dev.off() In additon to pdf(), we can use the functions win.metafile(), png(), jpeg(), bmp(), tiff(), xfig(), and postscript() to save graphs in other formats (Note: the win.metafile() function is only available on Windows platforms). Graphical parameters We can customize many features of a graph (fonts, colors, axes, and labels) through options called graphical parameters. One way to specify these options is through the par() function. Values set in this manner will be in effect for the rest of the session or until they’re changed, but not all high-level plotting functions allow us to specify all possible graphical parameters. The remainder of this blog will describe many important graphical parameters. Symbols and lines We can use graphical parameters to specify the plotting symbols and lines used in graphs. The relevant parameters are shown in the following table. Table 1. Parameters for specifying symbols and lines Parameter Description pch Specifies the symbol to use when plotting points. cex Specifies the symbol size. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. lty Specifies the line type. lwd Specifies the line width. It&#39;s expressed relative to the default (1 = default). For example, 2 generates a line twice as wide as the default. Plotting symbols specified with the pch parameter, line types specified with the lty parameter. Colors There are several color-related parameters in R. The following table shows some of the common ones. Table 2. Parameters for specifying colors Parameter Description col Default plotting color. col.axis Color for axis text. col.lab Color for axis labels. col.main Color for titles. col.sub Color for subtitles. fg Color for the plot&#39;s foreground. bg Color for the plot&#39;s background. We can specify colors in R by index, name, hexadecimal, RGB, or HSV. For example, col = 1, col = &quot;white&quot;, col = &quot;#FFFFFF&quot;, col = rgb(1, 1, 1) and col = hsv(0, 0, 1) are equivalent ways of specifying the color white. The function colors() returns all avaiable color names. Moreover, R has a number of functions that can be used to create vectors of contiguous colors. These include rainbow(), heat.colors(), terrain.colors(), topo.colors() and cm.colors(). rainbow() heat.colors() terrain.colors() topo.colors() cm.colors() Furthermore, the RColorBrewer package is particularly popular for creating attractive color palettes, use the brewer.pal(n, name) function to generate a vector of colors. For the parameter name, all values are shown below. Text characteristics Graphic parameters are also used to specify text size, font, and style. Parameters controlling text size are explained in table 3. Font family and style can be controlled with font options (table 4). Table 3. Parameters specifying text size Parameter Description cex Number indicating the amount by which plotted text should be scaled relative to the default. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. cex.axis Magnification of axis text relative to cex. cex.lab Magnification of axis labels relative to cex. cex.main Magnification of titles relative to cex. cex.sub Magnification of subtitles relative to cex. Table 4. Parameters specifying font family, size, and style Parameter Description font Integer specifying the font to use for plotted text. 1 = plain, 2 = bold, 3 = italic, 4 = bold italic, and 5 = symbol (in Adobe symbol encoding). font.axis Font for axis text. font.lab Font for axis labels. font.main Font for titles. font.sub Font for subtitles. ps Font point size (roughly 1/72 inch). The text size = ps* cex. family Font family for drawing text. Standard values are serif, sans, and mono. Graph and margin dimensions Finally, we can control the plot dimensions and margin sizes using the parameters listed in table 5. Table 5. Parameters specifying font family, size, and style Parameter Description pin Plot dimensions (width, height) in inches. mai Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in inches. mar Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in lines. The default is c(5, 4, 4, 2) + 0.1. In the next blog, we’ll turn to the customization of text annotations, and look at ways to combine more than one graph into a single image. Reference Steve Johnson, “art dirty texture brush”, www.pexels.com. [Online]. Available: https://www.pexels.com/photo/art-dirty-texture-brush-6868219/" />
<meta property="og:description" content="This blog reviews general methods for working with graphs. We’ll begin with how to create and save graphs, then talk about how to modify the features of graph. Creating and saving graphs Creating a new graph by issuing a high-level plotting command such as plot(), hist(), or boxplot() typically overwrites a previous graph. But how to create more than one graph and still have access to each? There are several methods. First, we can open a new graph window before creating a new graph: dev.new() statements to create graph 1 dev.new() statements to create graph 2 Each new graph will appear in the most recently opened window. Then we can use the functions dev.new(), dev.next(), dev.prev(), dev.set() and dev.off() to have multiple graph window open at one time and choose which output is sent to which window. See help(dev.cur) for details. If you want to save your graphs, you can do it via the following codes, sandwich the statements that produce the graph berween a statement that sets a destination and a statement that closes that destination. pdf(&quot;my-graph.pdf&quot;) plot(mtcars$wt, mtcars$mpg) abline(lm(mtcars$mpg ~ mtcars$wt)) title(&quot;Regression of MPG on Weight&quot;) dev.off() In additon to pdf(), we can use the functions win.metafile(), png(), jpeg(), bmp(), tiff(), xfig(), and postscript() to save graphs in other formats (Note: the win.metafile() function is only available on Windows platforms). Graphical parameters We can customize many features of a graph (fonts, colors, axes, and labels) through options called graphical parameters. One way to specify these options is through the par() function. Values set in this manner will be in effect for the rest of the session or until they’re changed, but not all high-level plotting functions allow us to specify all possible graphical parameters. The remainder of this blog will describe many important graphical parameters. Symbols and lines We can use graphical parameters to specify the plotting symbols and lines used in graphs. The relevant parameters are shown in the following table. Table 1. Parameters for specifying symbols and lines Parameter Description pch Specifies the symbol to use when plotting points. cex Specifies the symbol size. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. lty Specifies the line type. lwd Specifies the line width. It&#39;s expressed relative to the default (1 = default). For example, 2 generates a line twice as wide as the default. Plotting symbols specified with the pch parameter, line types specified with the lty parameter. Colors There are several color-related parameters in R. The following table shows some of the common ones. Table 2. Parameters for specifying colors Parameter Description col Default plotting color. col.axis Color for axis text. col.lab Color for axis labels. col.main Color for titles. col.sub Color for subtitles. fg Color for the plot&#39;s foreground. bg Color for the plot&#39;s background. We can specify colors in R by index, name, hexadecimal, RGB, or HSV. For example, col = 1, col = &quot;white&quot;, col = &quot;#FFFFFF&quot;, col = rgb(1, 1, 1) and col = hsv(0, 0, 1) are equivalent ways of specifying the color white. The function colors() returns all avaiable color names. Moreover, R has a number of functions that can be used to create vectors of contiguous colors. These include rainbow(), heat.colors(), terrain.colors(), topo.colors() and cm.colors(). rainbow() heat.colors() terrain.colors() topo.colors() cm.colors() Furthermore, the RColorBrewer package is particularly popular for creating attractive color palettes, use the brewer.pal(n, name) function to generate a vector of colors. For the parameter name, all values are shown below. Text characteristics Graphic parameters are also used to specify text size, font, and style. Parameters controlling text size are explained in table 3. Font family and style can be controlled with font options (table 4). Table 3. Parameters specifying text size Parameter Description cex Number indicating the amount by which plotted text should be scaled relative to the default. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. cex.axis Magnification of axis text relative to cex. cex.lab Magnification of axis labels relative to cex. cex.main Magnification of titles relative to cex. cex.sub Magnification of subtitles relative to cex. Table 4. Parameters specifying font family, size, and style Parameter Description font Integer specifying the font to use for plotted text. 1 = plain, 2 = bold, 3 = italic, 4 = bold italic, and 5 = symbol (in Adobe symbol encoding). font.axis Font for axis text. font.lab Font for axis labels. font.main Font for titles. font.sub Font for subtitles. ps Font point size (roughly 1/72 inch). The text size = ps* cex. family Font family for drawing text. Standard values are serif, sans, and mono. Graph and margin dimensions Finally, we can control the plot dimensions and margin sizes using the parameters listed in table 5. Table 5. Parameters specifying font family, size, and style Parameter Description pin Plot dimensions (width, height) in inches. mai Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in inches. mar Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in lines. The default is c(5, 4, 4, 2) + 0.1. In the next blog, we’ll turn to the customization of text annotations, and look at ways to combine more than one graph into a single image. Reference Steve Johnson, “art dirty texture brush”, www.pexels.com. [Online]. Available: https://www.pexels.com/photo/art-dirty-texture-brush-6868219/" />
<link rel="canonical" href="https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/" />
<meta property="og:url" content="https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/" />
<meta property="og:site_name" content="Jingwen Zheng" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-15T10:51:27+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="R IN ACTION Review 2 - Getting started with graphs" />
<meta name="twitter:site" content="@Jingwen_QI" />
<meta name="twitter:creator" content="@Jingwen Zheng" />
<script type="application/ld+json">
{"headline":"R IN ACTION Review 2 - Getting started with graphs","description":"This blog reviews general methods for working with graphs. We’ll begin with how to create and save graphs, then talk about how to modify the features of graph. Creating and saving graphs Creating a new graph by issuing a high-level plotting command such as plot(), hist(), or boxplot() typically overwrites a previous graph. But how to create more than one graph and still have access to each? There are several methods. First, we can open a new graph window before creating a new graph: dev.new() statements to create graph 1 dev.new() statements to create graph 2 Each new graph will appear in the most recently opened window. Then we can use the functions dev.new(), dev.next(), dev.prev(), dev.set() and dev.off() to have multiple graph window open at one time and choose which output is sent to which window. See help(dev.cur) for details. If you want to save your graphs, you can do it via the following codes, sandwich the statements that produce the graph berween a statement that sets a destination and a statement that closes that destination. pdf(&quot;my-graph.pdf&quot;) plot(mtcars$wt, mtcars$mpg) abline(lm(mtcars$mpg ~ mtcars$wt)) title(&quot;Regression of MPG on Weight&quot;) dev.off() In additon to pdf(), we can use the functions win.metafile(), png(), jpeg(), bmp(), tiff(), xfig(), and postscript() to save graphs in other formats (Note: the win.metafile() function is only available on Windows platforms). Graphical parameters We can customize many features of a graph (fonts, colors, axes, and labels) through options called graphical parameters. One way to specify these options is through the par() function. Values set in this manner will be in effect for the rest of the session or until they’re changed, but not all high-level plotting functions allow us to specify all possible graphical parameters. The remainder of this blog will describe many important graphical parameters. Symbols and lines We can use graphical parameters to specify the plotting symbols and lines used in graphs. The relevant parameters are shown in the following table. Table 1. Parameters for specifying symbols and lines Parameter Description pch Specifies the symbol to use when plotting points. cex Specifies the symbol size. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. lty Specifies the line type. lwd Specifies the line width. It&#39;s expressed relative to the default (1 = default). For example, 2 generates a line twice as wide as the default. Plotting symbols specified with the pch parameter, line types specified with the lty parameter. Colors There are several color-related parameters in R. The following table shows some of the common ones. Table 2. Parameters for specifying colors Parameter Description col Default plotting color. col.axis Color for axis text. col.lab Color for axis labels. col.main Color for titles. col.sub Color for subtitles. fg Color for the plot&#39;s foreground. bg Color for the plot&#39;s background. We can specify colors in R by index, name, hexadecimal, RGB, or HSV. For example, col = 1, col = &quot;white&quot;, col = &quot;#FFFFFF&quot;, col = rgb(1, 1, 1) and col = hsv(0, 0, 1) are equivalent ways of specifying the color white. The function colors() returns all avaiable color names. Moreover, R has a number of functions that can be used to create vectors of contiguous colors. These include rainbow(), heat.colors(), terrain.colors(), topo.colors() and cm.colors(). rainbow() heat.colors() terrain.colors() topo.colors() cm.colors() Furthermore, the RColorBrewer package is particularly popular for creating attractive color palettes, use the brewer.pal(n, name) function to generate a vector of colors. For the parameter name, all values are shown below. Text characteristics Graphic parameters are also used to specify text size, font, and style. Parameters controlling text size are explained in table 3. Font family and style can be controlled with font options (table 4). Table 3. Parameters specifying text size Parameter Description cex Number indicating the amount by which plotted text should be scaled relative to the default. 1 = default, 1.5 is 50% larger, 0.5 is 50% smaller, and so forth. cex.axis Magnification of axis text relative to cex. cex.lab Magnification of axis labels relative to cex. cex.main Magnification of titles relative to cex. cex.sub Magnification of subtitles relative to cex. Table 4. Parameters specifying font family, size, and style Parameter Description font Integer specifying the font to use for plotted text. 1 = plain, 2 = bold, 3 = italic, 4 = bold italic, and 5 = symbol (in Adobe symbol encoding). font.axis Font for axis text. font.lab Font for axis labels. font.main Font for titles. font.sub Font for subtitles. ps Font point size (roughly 1/72 inch). The text size = ps* cex. family Font family for drawing text. Standard values are serif, sans, and mono. Graph and margin dimensions Finally, we can control the plot dimensions and margin sizes using the parameters listed in table 5. Table 5. Parameters specifying font family, size, and style Parameter Description pin Plot dimensions (width, height) in inches. mai Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in inches. mar Numerical vector indicating margin size, where c(bottom, left, top, right) is expressed in lines. The default is c(5, 4, 4, 2) + 0.1. In the next blog, we’ll turn to the customization of text annotations, and look at ways to combine more than one graph into a single image. Reference Steve Johnson, “art dirty texture brush”, www.pexels.com. [Online]. Available: https://www.pexels.com/photo/art-dirty-texture-brush-6868219/","datePublished":"2017-04-15T10:51:27+02:00","dateModified":"2017-04-15T10:51:27+02:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/"},"url":"https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/","author":{"@type":"Person","name":"Jingwen Zheng"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<!-- Extra Open Graph :: Start -->

<!-- Extra Open Graph :: End -->

<link rel="canonical" href="https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/"><link rel="alternate" type="application/rss+xml" title="Jingwen Zheng" href="/feed.xml"><!-- start favicons snippet, use https://realfavicongenerator.net/ --><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"><link rel="manifest" href="/assets/site.webmanifest"><link rel="mask-icon" href="/assets/safari-pinned-tab.svg" color="#fc4d50"><link rel="shortcut icon" href="/assets/favicon.ico">

<meta name="msapplication-TileColor" content="#ffc40d"><meta name="msapplication-config" content="/assets/browserconfig.xml">

<meta name="theme-color" content="#ffffff">
<!-- end favicons snippet --><link rel="stylesheet" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css" ><!-- start custom head snippets -->

<!-- end custom head snippets -->
<script>(function() {
  window.isArray = function(val) {
    return Object.prototype.toString.call(val) === '[object Array]';
  };
  window.isString = function(val) {
    return typeof val === 'string';
  };

  window.hasEvent = function(event) {
    return 'on'.concat(event) in window.document;
  };

  window.isOverallScroller = function(node) {
    return node === document.documentElement || node === document.body || node === window;
  };

  window.isFormElement = function(node) {
    var tagName = node.tagName;
    return tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';
  };

  window.pageLoad = (function () {
    var loaded = false, cbs = [];
    window.addEventListener('load', function () {
      var i;
      loaded = true;
      if (cbs.length > 0) {
        for (i = 0; i < cbs.length; i++) {
          cbs[i]();
        }
      }
    });
    return {
      then: function(cb) {
        cb && (loaded ? cb() : (cbs.push(cb)));
      }
    };
  })();
})();
(function() {
  window.throttle = function(func, wait) {
    var args, result, thisArg, timeoutId, lastCalled = 0;

    function trailingCall() {
      lastCalled = new Date;
      timeoutId = null;
      result = func.apply(thisArg, args);
    }
    return function() {
      var now = new Date,
        remaining = wait - (now - lastCalled);

      args = arguments;
      thisArg = this;

      if (remaining <= 0) {
        clearTimeout(timeoutId);
        timeoutId = null;
        lastCalled = now;
        result = func.apply(thisArg, args);
      } else if (!timeoutId) {
        timeoutId = setTimeout(trailingCall, remaining);
      }
      return result;
    };
  };
})();
(function() {
  var Set = (function() {
    var add = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (data[i] === item) {
          return;
        }
      }
      this.size ++;
      data.push(item);
      return data;
    };

    var Set = function(data) {
      this.size = 0;
      this._data = [];
      var i;
      if (data.length > 0) {
        for (i = 0; i < data.length; i++) {
          add.call(this, data[i]);
        }
      }
    };
    Set.prototype.add = add;
    Set.prototype.get = function(index) { return this._data[index]; };
    Set.prototype.has = function(item) {
      var i, data = this._data;
      for (i = 0; i < data.length; i++) {
        if (this.get(i) === item) {
          return true;
        }
      }
      return false;
    };
    Set.prototype.is = function(map) {
      if (map._data.length !== this._data.length) { return false; }
      var i, j, flag, tData = this._data, mData = map._data;
      for (i = 0; i < tData.length; i++) {
        for (flag = false, j = 0; j < mData.length; j++) {
          if (tData[i] === mData[j]) {
            flag = true;
            break;
          }
        }
        if (!flag) { return false; }
      }
      return true;
    };
    Set.prototype.values = function() {
      return this._data;
    };
    return Set;
  })();

  window.Lazyload = (function(doc) {
    var queue = {js: [], css: []}, sources = {js: {}, css: {}}, context = this;
    var createNode = function(name, attrs) {
      var node = doc.createElement(name), attr;
      for (attr in attrs) {
        if (attrs.hasOwnProperty(attr)) {
          node.setAttribute(attr, attrs[attr]);
        }
      }
      return node;
    };
    var end = function(type, url) {
      var s, q, qi, cbs, i, j, cur, val, flag;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        s[url] = true;
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (cur.urls.has(url)) {
            qi = cur, val = qi.urls.values();
            qi && (cbs = qi.callbacks);
            for (flag = true, j = 0; j < val.length; j++) {
              cur = val[j];
              if (!s[cur]) {
                flag = false;
              }
            }
            if (flag && cbs && cbs.length > 0) {
              for (j = 0; j < cbs.length; j++) {
                cbs[j].call(context);
              }
              qi.load = true;
            }
          }
        }
      }
    };
    var load = function(type, urls, callback) {
      var s, q, qi, node, i, cur,
        _urls = typeof urls === 'string' ? new Set([urls]) : new Set(urls), val, url;
      if (type === 'js' || type ==='css') {
        s = sources[type], q = queue[type];
        for (i = 0; i < q.length; i++) {
          cur = q[i];
          if (_urls.is(cur.urls)) {
            qi = cur;
            break;
          }
        }
        val = _urls.values();
        if (qi) {
          callback && (qi.load || qi.callbacks.push(callback));
          callback && (qi.load && callback());
        } else {
          q.push({
            urls: _urls,
            callbacks: callback ? [callback] : [],
            load: false
          });
          for (i = 0; i < val.length; i++) {
            node = null, url = val[i];
            if (s[url] === undefined) {
              (type === 'js' ) && (node = createNode('script', { src: url }));
              (type === 'css') && (node = createNode('link', { rel: 'stylesheet', href: url }));
              if (node) {
                node.onload = (function(type, url) {
                  return function() {
                    end(type, url);
                  };
                })(type, url);
                (doc.head || doc.body).appendChild(node);
                s[url] = false;
              }
            }
          }
        }
      }
    };
    return {
      js: function(url, callback) {
        load('js', url, callback);
      },
      css: function(url, callback) {
        load('css', url, callback);
      }
    };
  })(this.document);
})();
</script><script>
  (function() {
    var TEXT_VARIABLES = {
      version: '2.2.6',
      sources: {
        font_awesome: 'https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/all.css',
        jquery: 'https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js',
        leancloud_js_sdk: '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js',
        chart: 'https://cdn.bootcss.com/Chart.js/2.7.2/Chart.bundle.min.js',
        gitalk: {
          js: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.js',
          css: 'https://cdn.bootcss.com/gitalk/1.2.2/gitalk.min.css'
        },
        valine: 'https://unpkg.com/valine/dist/Valine.min.js',
        mathjax: 'https://cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML',
        mermaid: 'https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js'
      },
      site: {
        toc: {
          selectors: 'h1,h2,h3'
        }
      },
      paths: {
        search_js: '/assets/search.js'
      }
    };
    window.TEXT_VARIABLES = TEXT_VARIABLES;
  })();
</script>
</head>
  <body>
    <div class="root" data-is-touch="false">
      <div class="layout--page js-page-root"><div class="page__main js-page-main page__viewport has-aside cell cell--auto">

      <div class="page__main-inner"><div class="page__header d-print-none"><header class="header"><div class="main">
      <div class="header__title">
        <div class="header__brand"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="24px" height="24px" viewBox="0 0 24 24">
<style type="text/css">
	.st0{fill:#515151;}
</style>
<path class="st0" d="M1.7,22.3c5.7-5.7,11.3-5.7,17,0c3.3-3.3,3.5-5.3,0.8-6c2.7,0.7,3.5-1.1,2.3-5.6s-3.3-5.2-6.3-2.1
	c3-3,2.3-5.2-2.1-6.3S7,1.8,7.7,4.6C7,1.8,5,2.1,1.7,5.3C7.3,11,7.3,16.7,1.7,22.3"/>
</svg>

          <a title="Data Science Enthusiast
" href="/">Jingwen Zheng</a>
        </div><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></div><nav class="navigation">
        <ul><li class="navigation__item"><a href="/portfolio">Portfolio</a></li><li class="navigation__item"><a href="/archive">Archive</a></li><li class="navigation__item"><a href="/about">About</a></li><li><button class="button button--secondary button--circle search-button js-search-toggle"><i class="fas fa-search"></i></button></li></ul>
      </nav></div>
  </header>
</div><div class="page__content"><div class="article__header--overlay"><div class="hero hero--dark overlay" style="background-image:linear-gradient(135deg, rgba(0, 0, 0, .6), rgba(0, 0, 0, .4)),url(/images/20170415-pexels-steve-johnson.jpg);background-color:#203028;"><div class="hero__content"><div class ="main"><div class="article__info clearfix">
      <ul class="left-col menu">
        <li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=R">R</a>
            </li><li>
              <a class="button button--secondary button--pill button--sm"
                href="/archive?tag=visualisation">visualisation</a>
            </li>

      <li class="separator">|</li>
        
          <li>
            <a class="button button--circle button--primary focus lang"
               href="/r-in-action-review-2-getting-started-with-graphs/"><span>EN</span></a>

            






            

            
          </li>
        
      
    </ul><ul class="right-col menu"><li><i class="far fa-calendar-alt"></i> <span>Apr 15, 2017</span>
            </li></ul></div><div class="article__header"><header><h1>R IN ACTION Review 2 - Getting started with graphs</h1></header></div><p class="overlay__excerpt">This blog reviews general methods for working with graphs. We’ll begin with howto create and save graphs, then talk about how to modify the features of graph.Creating and saving graphsCreating a ne...</p></div></div>
              </div>
            </div><div class ="main"><div class="grid grid--reverse">

              <div class="col-aside d-print-none js-col-aside"><aside class="page__aside js-page-aside"><div class="toc-aside js-toc-root"></div>
</aside></div>

              <div class="col-main cell cell--auto"><!-- start custom main top snippet -->

<!-- end custom main top snippet -->
<article itemscope itemtype="http://schema.org/Article"><meta itemprop="headline" content="R IN ACTION Review 2 - Getting started with graphs"><meta itemprop="author" content="Jingwen Zheng"/><meta itemprop="datePublished" content="2017-04-15T10:51:27+02:00">
    <meta itemprop="keywords" content="R,visualisation"><div class="js-article-content"><div class="layout--article"><!-- start custom article top snippet -->

<!-- end custom article top snippet -->
<div class="article__content" itemprop="articleBody"><p>This blog reviews general methods for working with graphs. We’ll begin with how
to create and save graphs, then talk about how to modify the features of graph.</p>

<h2 id="creating-and-saving-graphs">Creating and saving graphs</h2>

<p>Creating a new graph by issuing a high-level plotting command such as <code class="language-plaintext highlighter-rouge">plot()</code>,
<code class="language-plaintext highlighter-rouge">hist()</code>, or <code class="language-plaintext highlighter-rouge">boxplot()</code> typically overwrites a previous graph. But how to
create more than one graph and still have access to each? There are several
methods.</p>

<p>First, we can open a new graph window <em>before</em> creating a new graph:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">dev.new</span><span class="p">()</span><span class="w">
  </span><span class="n">statements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="n">dev.new</span><span class="p">()</span><span class="w">
  </span><span class="n">statements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">graph</span><span class="w"> </span><span class="m">2</span></code></pre></figure>

<p>Each new graph will appear in the most recently opened window.</p>

<p>Then we can use the functions <code class="language-plaintext highlighter-rouge">dev.new()</code>, <code class="language-plaintext highlighter-rouge">dev.next()</code>, <code class="language-plaintext highlighter-rouge">dev.prev()</code>,
<code class="language-plaintext highlighter-rouge">dev.set()</code> and <code class="language-plaintext highlighter-rouge">dev.off()</code> to have multiple graph window open at one time and
choose which output is sent to which window. See <code class="language-plaintext highlighter-rouge">help(dev.cur)</code> for details.</p>

<p>If you want to save your graphs, you can do it via the following codes, sandwich
the statements that produce the graph berween a statement that sets a
destination and a statement that closes that destination.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pdf</span><span class="p">(</span><span class="s2">"my-graph.pdf"</span><span class="p">)</span><span class="w">
  </span><span class="n">plot</span><span class="p">(</span><span class="n">mtcars</span><span class="o">$</span><span class="n">wt</span><span class="p">,</span><span class="w"> </span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="p">)</span><span class="w">
  </span><span class="n">abline</span><span class="p">(</span><span class="n">lm</span><span class="p">(</span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">mtcars</span><span class="o">$</span><span class="n">wt</span><span class="p">))</span><span class="w">
  </span><span class="n">title</span><span class="p">(</span><span class="s2">"Regression of MPG on Weight"</span><span class="p">)</span><span class="w">
</span><span class="n">dev.off</span><span class="p">()</span></code></pre></figure>

<p>In additon to <code class="language-plaintext highlighter-rouge">pdf()</code>, we can use the functions <code class="language-plaintext highlighter-rouge">win.metafile()</code>, <code class="language-plaintext highlighter-rouge">png()</code>,
<code class="language-plaintext highlighter-rouge">jpeg()</code>, <code class="language-plaintext highlighter-rouge">bmp()</code>, <code class="language-plaintext highlighter-rouge">tiff()</code>, <code class="language-plaintext highlighter-rouge">xfig()</code>, and <code class="language-plaintext highlighter-rouge">postscript()</code> to save graphs in
other formats (Note: the <code class="language-plaintext highlighter-rouge">win.metafile()</code> function is only available on Windows
platforms).</p>

<h2 id="graphical-parameters">Graphical parameters</h2>

<p>We can customize many features of a graph (fonts, colors, axes, and labels)
through options called <em>graphical parameters</em>. One way to specify these options
is through the <code class="language-plaintext highlighter-rouge">par()</code> function. Values set in this manner will be in effect for
the rest of the session or until they’re changed, but not all high-level
plotting functions allow us to specify all possible graphical parameters. The
remainder of this blog will describe many important graphical parameters.</p>

<h3 id="symbols-and-lines">Symbols and lines</h3>

<p>We can use graphical parameters to specify the plotting symbols and lines used
in graphs. The relevant parameters are shown in the following table.</p>

<table style="margin:auto; text-align:center">
  <caption style="text-align: left; font-size: 80%">
      <b>Table 1. Parameters for specifying symbols and lines</b>
  </caption>
  <tr>
    <th>
      <b>Parameter</b>
    </th>
    <th>
      <b>Description</b>
    </th>
  </tr>
  <tr>
    <td>
      <code>pch</code>
    </td>
    <td>Specifies the symbol to use when plotting points.</td>
  </tr>
  <tr>
    <td>
      <code>cex</code>
    </td>
    <td>Specifies the symbol size. <br /> 1 = default, 1.5 is 50% larger, 0.5 is
    50% smaller, and so forth.</td>
  </tr>
  <tr>
    <td>
      <code>lty</code>
    </td>
    <td>Specifies the line type.</td>
  </tr>
  <tr>
    <td>
      <code>lwd</code>
    </td>
    <td>Specifies the line width. It's expressed relative to the default <br />
    (1 = default). For example, 2 generates a line twice as wide as the default.
    </td>
  </tr>
</table>

<p>Plotting symbols specified with the <code class="language-plaintext highlighter-rouge">pch</code> parameter, line types specified with
the <code class="language-plaintext highlighter-rouge">lty</code> parameter.</p>

<p align="center">
  <img alt="plot symbols pch &amp; line types lty" src="/images/20170415-pch-lty.png" />
</p>

<h3 id="colors">Colors</h3>

<p>There are several color-related parameters in R. The following table shows some
of the common ones.</p>

<table style="margin:auto; text-align:center">
  <caption style="text-align: left; font-size: 80%">
      <b>Table 2. Parameters for specifying colors</b>
  </caption>
  <tr>
    <th>
      <b>Parameter</b>
    </th>
    <th>
      <b>Description</b>
    </th>
  </tr>
  <tr>
    <td>
      <code>col</code>
    </td>
    <td>Default plotting color.</td>
  </tr>
  <tr>
    <td>
      <code>col.axis</code>
    </td>
    <td>Color for axis text.</td>
  </tr>
  <tr>
    <td>
      <code>col.lab</code>
    </td>
    <td>Color for axis labels.</td>
  </tr>
  <tr>
    <td>
      <code>col.main</code>
    </td>
    <td>Color for titles.</td>
  </tr>
  <tr>
    <td>
      <code>col.sub</code>
    </td>
    <td>Color for subtitles.</td>
  </tr>
  <tr>
    <td>
      <code>fg</code>
    </td>
    <td>Color for the plot's foreground.</td>
  </tr>
  <tr>
    <td>
      <code>bg</code>
    </td>
    <td>Color for the plot's background.</td>
  </tr>
</table>

<p>We can specify colors in R by index, name, hexadecimal, RGB, or HSV. For
example, <code class="language-plaintext highlighter-rouge">col = 1</code>, <code class="language-plaintext highlighter-rouge">col = "white"</code>, <code class="language-plaintext highlighter-rouge">col = "#FFFFFF"</code>, <code class="language-plaintext highlighter-rouge">col = rgb(1, 1, 1)</code> and
<code class="language-plaintext highlighter-rouge">col = hsv(0, 0, 1)</code> are equivalent ways of specifying the color white. The
function <code class="language-plaintext highlighter-rouge">colors()</code> returns all avaiable color names. Moreover, R has a number
of functions that can be used to create vectors of contiguous colors. These
include <code class="language-plaintext highlighter-rouge">rainbow()</code>, <code class="language-plaintext highlighter-rouge">heat.colors()</code>, <code class="language-plaintext highlighter-rouge">terrain.colors()</code>, <code class="language-plaintext highlighter-rouge">topo.colors()</code> and
<code class="language-plaintext highlighter-rouge">cm.colors()</code>.</p>

<table style="margin:auto; text-align:center">
  <tr>
    <th>
      <code>rainbow()</code>
    </th>
    <th>
      <code>heat.colors()</code>
    </th>
    <th>
      <code>terrain.colors()</code>
    </th>
  </tr>
  <tr>
    <td>
      <img alt="rainbow colors" src="/images/20170415-rainbow.png" />
    </td>
    <td>
      <img alt="heat colors" src="/images/20170415-heat.png" />
    </td>
    <td>
      <img alt="terrain colors" src="/images/20170415-terrain.png" />
    </td>
  </tr>
</table>

<table style="margin:auto; text-align:center">
  <tr>
    <th>
      <code>topo.colors()</code>
    </th>
    <th>
      <code>cm.colors()</code>
    </th>
  </tr>
  <tr>
    <td>
      <img alt="topo colors" src="/images/20170415-topo.png" />
    </td>
    <td>
      <img alt="cm colors" src="/images/20170415-cm.png" />
    </td>
  </tr>
</table>

<p>Furthermore, the <code class="language-plaintext highlighter-rouge">RColorBrewer</code> package is particularly popular for creating
attractive color palettes, use the <code class="language-plaintext highlighter-rouge">brewer.pal(n, name)</code> function to generate a
vector of colors. For the parameter <em>name</em>, all values are shown below.</p>

<p align="center">
  <img alt="RColorBrewer color palette" src="/images/20170415-rcolorbrewer.png" />
</p>

<h3 id="text-characteristics">Text characteristics</h3>

<p>Graphic parameters are also used to specify text size, font, and style.
Parameters controlling text size are explained in table 3. Font family and style
can be controlled with font options (table 4).</p>

<table style="margin:auto; text-align:center">
  <caption style="text-align: left; font-size: 80%">
      <b>Table 3. Parameters specifying text size</b>
  </caption>
  <tr>
    <th>
      <b>Parameter</b>
    </th>
    <th>
      <b>Description</b>
    </th>
  </tr>
  <tr>
    <td>
      <code>cex</code>
    </td>
    <td>Number indicating the amount by which plotted text should be scaled
    relative to the default. <br /> 1 = default, 1.5 is 50% larger, 0.5 is 50%
    smaller, and so forth.</td>
  </tr>
  <tr>
    <td>
      <code>cex.axis</code>
    </td>
    <td>Magnification of axis text relative to <code>cex</code>.</td>
  </tr>
  <tr>
    <td>
      <code>cex.lab</code>
    </td>
    <td>Magnification of axis labels relative to <code>cex</code>.</td>
  </tr>
  <tr>
    <td>
      <code>cex.main</code>
    </td>
    <td>Magnification of titles relative to <code>cex</code>.</td>
  </tr>
  <tr>
    <td>
      <code>cex.sub</code>
    </td>
    <td>Magnification of subtitles relative to <code>cex</code>.</td>
  </tr>
</table>

<p><br /></p>

<table style="margin:auto; text-align:center">
  <caption style="text-align: left; font-size: 80%">
      <b>Table 4. Parameters specifying font family, size, and style</b>
  </caption>
  <tr>
    <th>
      <b>Parameter</b>
    </th>
    <th>
      <b>Description</b>
    </th>
  </tr>
  <tr>
    <td>
      <code>font</code>
    </td>
    <td>Integer specifying the font to use for plotted text. <br /> 1 = plain,
    2 = bold, 3 = italic, 4 = bold italic, and <br /> 5 = symbol (in Adobe symbol
    encoding).</td>
  </tr>
  <tr>
    <td>
      <code>font.axis</code>
    </td>
    <td>Font for axis text.</td>
  </tr>
  <tr>
    <td>
      <code>font.lab</code>
    </td>
    <td>Font for axis labels.</td>
  </tr>
  <tr>
    <td>
      <code>font.main</code>
    </td>
    <td>Font for titles.</td>
  </tr>
  <tr>
    <td>
      <code>font.sub</code>
    </td>
    <td>Font for subtitles.</td>
  </tr>
  <tr>
    <td>
      <code>ps</code>
    </td>
    <td>Font point size (roughly 1/72 inch). The text size = <code>ps</code>*
    <code>cex</code>.</td>
  </tr>
  <tr>
    <td>
      <code>family</code>
    </td>
    <td>Font family for drawing text. Standard values are <br /> <code>serif</code>,
    <code>sans</code>, and <code>mono</code>.</td>
  </tr>
</table>

<h3 id="graph-and-margin-dimensions">Graph and margin dimensions</h3>

<p>Finally, we can control the plot dimensions and margin sizes using the
parameters listed in table 5.</p>

<table style="margin:auto; text-align:center">
  <caption style="text-align: left; font-size: 80%">
      <b>Table 5. Parameters specifying font family, size, and style</b>
  </caption>
  <tr>
    <th>
      <b>Parameter</b>
    </th>
    <th>
      <b>Description</b>
    </th>
  </tr>
  <tr>
    <td>
      <code>pin</code>
    </td>
    <td>Plot dimensions (width, height) in inches.</td>
  </tr>
  <tr>
    <td>
      <code>mai</code>
    </td>
    <td>Numerical vector indicating margin size, where <br /> <code>c(bottom, left,
    top, right)</code> is expressed in inches.</td>
  </tr>
  <tr>
    <td>
      <code>mar</code>
    </td>
    <td>Numerical vector indicating margin size, where <br /> <code>c(bottom, left,
    top, right)</code> is expressed in lines. <br />The default is <code>c(5, 4,
    4, 2) + 0.1</code>.</td>
  </tr>
</table>

<p>In the next blog, we’ll turn to the customization of text annotations, and look
at ways to combine more than one graph into a single image.</p>

<h2 id="reference">Reference</h2>
<ul>
  <li>Steve Johnson, “art dirty texture brush”, <em>www.pexels.com</em>. [Online]. Available: <a href="https://www.pexels.com/photo/art-dirty-texture-brush-6868219/">https://www.pexels.com/photo/art-dirty-texture-brush-6868219/</a></li>
</ul>

</div><section class="article__sharing d-print-none"></section><div class="d-print-none"><footer class="article__footer"><meta itemprop="dateModified" content="2017-04-15T10:51:27+02:00"><!-- start custom article footer snippet -->

<!-- end custom article footer snippet -->
<div class="article__subscribe"><div class="subscribe"><i class="fas fa-rss"></i> <a type="application/rss+xml" href="/feed.xml">Subscribe</a></div></div><div class="article__license"><div class="license">
    <p>This work is licensed under a <a itemprop="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">Attribution-NonCommercial 4.0 International</a> license.
      <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">
        <img alt="Attribution-NonCommercial 4.0 International" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
      </a>
    </p>
  </div></div></footer>
<div class="article__section-navigator clearfix"><div class="previous"><span>PREVIOUS</span><a href="/working-with-geojson-data/">R: Working with GeoJSON data and resolve 'Error in ogrInfo'</a></div><div class="next"><span>NEXT</span><a href="/r-in-action-review-3-time-series-(part-1)/">R IN ACTION Review 3 - Time series (Part 1)</a></div></div></div>

</div>

<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    $(function() {
      var $this ,$scroll;
      var $articleContent = $('.js-article-content');
      var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
      var scroll = hasSidebar ? '.js-page-main' : 'html, body';
      $scroll = $(scroll);

      $articleContent.find('.highlight').each(function() {
        $this = $(this);
        $this.attr('data-lang', $this.find('code').attr('data-lang'));
      });
      $articleContent.find('h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]').each(function() {
        $this = $(this);
        $this.append($('<a class="anchor d-print-none" aria-hidden="true"></a>').html('<i class="fas fa-anchor"></i>'));
      });
      $articleContent.on('click', '.anchor', function() {
        $scroll.scrollToAnchor('#' + $(this).parent().attr('id'), 400);
      });
    });
  });
})();
</script>
</div><section class="page__comments d-print-none"><div id="disqus_thread"></div>
  <script>
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  var disqus_config = function () {
    this.page.url = 'https://jingwen-z.github.io//r-in-action-review-2-getting-started-with-graphs/';
    this.page.identifier = '/r-in-action-review-2-getting-started-with-graphs';
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://jingwen-z.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></article><!-- start custom main bottom snippet -->

<!-- end custom main bottom snippet -->
</div>
            </div></div></div><div class="page__footer d-print-none">
<footer class="footer py-4 js-page-footer">
  <div class="main"><div itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jingwen Zheng"><meta itemprop="url" content="/"><meta itemprop="description" content="Data Science Enthusiast"><div class="footer__author-links"><div class="author-links">
  <ul class="menu menu--nowrap menu--inline"><li title="Follow me on Linkedin.">
        <a class="button button--circle linkedin-button" itemprop="sameAs" href="https://www.linkedin.com/in/jingwen-zheng" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M260.096 155.648c0 27.307008-9.899008 50.516992-29.696 69.632-19.796992 19.115008-45.396992 28.672-76.8 28.672-30.036992 0-54.612992-9.556992-73.728-28.672-19.115008-19.115008-28.672-42.324992-28.672-69.632 0-28.672 9.556992-52.224 28.672-70.656 19.115008-18.432 44.372992-27.648 75.776-27.648 31.403008 0 56.32 9.216 74.752 27.648 18.432 18.432 28.331008 41.984 29.696 70.656 0 0 0 0 0 0m-202.752 808.96c0 0 0-632.832 0-632.832 0 0 196.608 0 196.608 0 0 0 0 632.832 0 632.832 0 0-196.608 0-196.608 0 0 0 0 0 0 0m313.344-430.08c0-58.708992-1.364992-126.292992-4.096-202.752 0 0 169.984 0 169.984 0 0 0 10.24 88.064 10.24 88.064 0 0 4.096 0 4.096 0 40.96-68.267008 105.812992-102.4 194.56-102.4 68.267008 0 123.220992 22.868992 164.864 68.608 41.643008 45.739008 62.464 113.664 62.464 203.776 0 0 0 374.784 0 374.784 0 0-196.608 0-196.608 0 0 0 0-350.208 0-350.208 0-91.476992-33.451008-137.216-100.352-137.216-47.787008 0-81.236992 24.576-100.352 73.728-4.096 8.192-6.144 24.576-6.144 49.152 0 0 0 364.544 0 364.544 0 0-198.656 0-198.656 0 0 0 0-430.08 0-430.08 0 0 0 0 0 0" />
</svg>
</div>
        </a>
      </li><li title="Follow me on Github.">
        <a class="button button--circle github-button" itemprop="sameAs" href="https://github.com/jingwen-z" target="_blank">
          <div class="icon"><svg fill="#000000" width="24px" height="24px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path class="svgpath" data-index="path_0" fill="#272636" d="M0 525.2c0 223.6 143.3 413.7 343 483.5 26.9 6.8 22.8-12.4 22.8-25.4l0-88.7c-155.3 18.2-161.5-84.6-172-101.7-21.1-36-70.8-45.2-56-62.3 35.4-18.2 71.4 4.6 113.1 66.3 30.2 44.7 89.1 37.2 119 29.7 6.5-26.9 20.5-50.9 39.7-69.6C248.8 728.2 181.7 630 181.7 513.2c0-56.6 18.7-108.7 55.3-150.7-23.3-69.3 2.2-128.5 5.6-137.3 66.5-6 135.5 47.6 140.9 51.8 37.8-10.2 80.9-15.6 129.1-15.6 48.5 0 91.8 5.6 129.8 15.9 12.9-9.8 77-55.8 138.8-50.2 3.3 8.8 28.2 66.7 6.3 135 37.1 42.1 56 94.6 56 151.4 0 117-67.5 215.3-228.8 243.7 26.9 26.6 43.6 63.4 43.6 104.2l0 128.8c0.9 10.3 0 20.5 17.2 20.5C878.1 942.4 1024 750.9 1024 525.3c0-282.9-229.3-512-512-512C229.1 13.2 0 242.3 0 525.2L0 525.2z" />
</svg>
</div>
        </a>
      </li></ul>
</div>
</div>
    </div><div class="site-info mt-2">
      <div>© Jingwen Zheng 2021,
        Powered by <a title="Jekyll is a simple, blog-aware, static site generator." href="http://jekyllrb.com/">Jekyll</a> & <a
        title="TeXt is a super customizable Jekyll theme." href="https://github.com/kitian616/jekyll-TeXt-theme">TeXt Theme</a>.
      </div>
    </div>
  </div>
</footer>
</div></div>
    </div><script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $body = $('body'), $window = $(window);
    var $pageRoot = $('.js-page-root'), $pageMain = $('.js-page-main');
    var activeCount = 0;
    function modal(options) {
      var $root = this, visible, onChange, hideWhenWindowScroll = false;
      var scrollTop;
      function setOptions(options) {
        var _options = options || {};
        visible = _options.initialVisible === undefined ? false : show;
        onChange = _options.onChange;
        hideWhenWindowScroll = _options.hideWhenWindowScroll;
      }
      function init() {
        setState(visible);
      }
      function setState(isShow) {
        if (isShow === visible) {
          return;
        }
        visible = isShow;
        if (visible) {
          activeCount++;
          scrollTop = $(window).scrollTop() || $pageMain.scrollTop();
          $root.addClass('modal--show');
          $pageMain.scrollTop(scrollTop);
          activeCount === 1 && ($pageRoot.addClass('show-modal'), $body.addClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.on('scroll', hide);
          $window.on('keyup', handleKeyup);
        } else {
          activeCount > 0 && activeCount--;
          $root.removeClass('modal--show');
          $window.scrollTop(scrollTop);
          activeCount === 0 && ($pageRoot.removeClass('show-modal'), $body.removeClass('of-hidden'));
          hideWhenWindowScroll && window.hasEvent('touchstart') && $window.off('scroll', hide);
          $window.off('keyup', handleKeyup);
        }
        onChange && onChange(visible);
      }
      function show() {
        setState(true);
      }
      function hide() {
        setState(false);
      }
      function handleKeyup(e) {
        // Char Code: 27  ESC
        if (e.which ===  27) {
          hide();
        }
      }
      setOptions(options);
      init();
      return {
        show: show,
        hide: hide,
        $el: $root
      };
    }
    $.fn.modal = modal;
  });
})();
</script><div class="modal modal--overflow page__search-modal d-print-none js-page-search-modal"><script>
(function () {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    // search panel
    var search = (window.search || (window.search = {}));
    var useDefaultSearchBox = window.useDefaultSearchBox === undefined ?
      true : window.useDefaultSearchBox ;

    var $searchModal = $('.js-page-search-modal');
    var $searchToggle = $('.js-search-toggle');
    var searchModal = $searchModal.modal({ onChange: handleModalChange, hideWhenWindowScroll: true });
    var modalVisible = false;
    search.searchModal = searchModal;

    var $searchBox = null;
    var $searchInput = null;
    var $searchClear = null;

    function getModalVisible() {
      return modalVisible;
    }
    search.getModalVisible = getModalVisible;

    function handleModalChange(visible) {
      modalVisible = visible;
      if (visible) {
        search.onShow && search.onShow();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].focus();
      } else {
        search.onShow && search.onHide();
        useDefaultSearchBox && $searchInput[0] && $searchInput[0].blur();
        setTimeout(function() {
          useDefaultSearchBox && ($searchInput.val(''), $searchBox.removeClass('not-empty'));
          search.clear && search.clear();
          window.pageAsideAffix && window.pageAsideAffix.refresh();
        }, 400);
      }
    }

    $searchToggle.on('click', function() {
      modalVisible ? searchModal.hide() : searchModal.show();
    });
    // Char Code: 83  S, 191 /
    $(window).on('keyup', function(e) {
      if (!modalVisible && !window.isFormElement(e.target || e.srcElement) && (e.which === 83 || e.which === 191)) {
        modalVisible || searchModal.show();
      }
    });

    if (useDefaultSearchBox) {
      $searchBox = $('.js-search-box');
      $searchInput = $searchBox.children('input');
      $searchClear = $searchBox.children('.js-icon-clear');
      search.getSearchInput = function() {
        return $searchInput.get(0);
      };
      search.getVal = function() {
        return $searchInput.val();
      };
      search.setVal = function(val) {
        $searchInput.val(val);
      };

      $searchInput.on('focus', function() {
        $(this).addClass('focus');
      });
      $searchInput.on('blur', function() {
        $(this).removeClass('focus');
      });
      $searchInput.on('input', window.throttle(function() {
        var val = $(this).val();
        if (val === '' || typeof val !== 'string') {
          search.clear && search.clear();
        } else {
          $searchBox.addClass('not-empty');
          search.onInputNotEmpty && search.onInputNotEmpty(val);
        }
      }, 400));
      $searchClear.on('click', function() {
        $searchInput.val(''); $searchBox.removeClass('not-empty');
        search.clear && search.clear();
      });
    }
  });
})();
</script><div class="search search--dark">
  <div class="main">
    <div class="search__header">Search</div>
    <div class="search-bar">
      <div class="search-box js-search-box">
        <div class="search-box__icon-search"><i class="fas fa-search"></i></div>
        <input type="text" />
        <div class="search-box__icon-clear js-icon-clear">
          <a><i class="fas fa-times"></i></a>
        </div>
      </div>
      <button class="button button--theme-dark button--pill search__cancel js-search-toggle">
        Cancel</button>
    </div>
    <div class="search-result js-search-result"></div>
  </div>
</div>
<script>var SOURCES = window.TEXT_VARIABLES.sources;
var PAHTS = window.TEXT_VARIABLES.paths;
window.Lazyload.js([SOURCES.jquery, PAHTS.search_js], function() {
  var search = (window.search || (window.search = {}));
  var searchData = window.TEXT_SEARCH_DATA || {};

  function memorize(f) {
    var cache = {};
    return function () {
      var key = Array.prototype.join.call(arguments, ',');
      if (key in cache) return cache[key];
      else return cache[key] = f.apply(this, arguments);
    };
  }

  /// search
  function searchByQuery(query) {
    var i, j, key, keys, cur, _title, result = {};
    keys = Object.keys(searchData);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      for (j = 0; j < searchData[key].length; j++) {
        cur = searchData[key][j], _title = cur.title;
        if ((result[key] === undefined || result[key] && result[key].length < 4 )
          && _title.toLowerCase().indexOf(query.toLowerCase()) >= 0) {
          if (result[key] === undefined) {
            result[key] = [];
          }
          result[key].push(cur);
        }
      }
    }
    return result;
  }

  var renderHeader = memorize(function(header) {
    return $('<p class="search-result__header">' + header + '</p>');
  });

  var renderItem = function(index, title, url) {
    return $('<li class="search-result__item" data-index="' + index + '"><a class="button" href="' + url + '">' + title + '</a></li>');
  };

  function render(data) {
    if (!data) { return null; }
    var $root = $('<ul></ul>'), i, j, key, keys, cur, itemIndex = 0;
    keys = Object.keys(data);
    for (i = 0; i < keys.length; i++) {
      key = keys[i];
      $root.append(renderHeader(key));
      for (j = 0; j < data[key].length; j++) {
        cur = data[key][j];
        $root.append(renderItem(itemIndex++, cur.title, cur.url));
      }
    }
    return $root;
  }

  // search box
  var $result = $('.js-search-result'), $resultItems;
  var lastActiveIndex, activeIndex;

  function clear() {
    $result.html(null);
    $resultItems = $('.search-result__item'); activeIndex = 0;
  }
  function onInputNotEmpty(val) {
    $result.html(render(searchByQuery(val)));
    $resultItems = $('.search-result__item'); activeIndex = 0;
    $resultItems.eq(0).addClass('active');
  }

  search.clear = clear;
  search.onInputNotEmpty = onInputNotEmpty;

  function updateResultItems() {
    lastActiveIndex >= 0 && $resultItems.eq(lastActiveIndex).removeClass('active');
    activeIndex >= 0 && $resultItems.eq(activeIndex).addClass('active');
  }

  function moveActiveIndex(direction) {
    var itemsCount = $resultItems ? $resultItems.length : 0;
    if (itemsCount > 1) {
      lastActiveIndex = activeIndex;
      if (direction === 'up') {
        activeIndex = (activeIndex - 1 + itemsCount) % itemsCount;
      } else if (direction === 'down') {
        activeIndex = (activeIndex + 1 + itemsCount) % itemsCount;
      }
      updateResultItems();
    }
  }

  // Char Code: 13  Enter, 37  ⬅, 38  ⬆, 39  ➡, 40  ⬇
  $(window).on('keyup', function(e) {
    var modalVisible = search.getModalVisible && search.getModalVisible();
    if (modalVisible) {
      if (e.which === 38) {
        modalVisible && moveActiveIndex('up');
      } else if (e.which === 40) {
        modalVisible && moveActiveIndex('down');
      } else if (e.which === 13) {
        modalVisible && $resultItems && activeIndex >= 0 && $resultItems.eq(activeIndex).children('a')[0].click();
      }
    }
  });

  $result.on('mouseover', '.search-result__item > a', function() {
    var itemIndex = $(this).parent().data('index');
    itemIndex >= 0 && (lastActiveIndex = activeIndex, activeIndex = itemIndex, updateResultItems());
  });
});
</script>
</div></div>


<script>(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function scrollToAnchor(anchor, duration, callback) {
      var $root = this;
      $root.animate({ scrollTop: $(anchor).position().top }, duration, function() {
        window.history.replaceState(null, '', window.location.href.split('#')[0] + anchor);
        callback && callback();
      });
    }
    $.fn.scrollToAnchor = scrollToAnchor;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function affix(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroll,
        offsetBottom = 0, scrollTarget = window, scroll = window.document, disabled = false, isOverallScroller = true,
        rootTop, rootLeft, rootHeight, scrollBottom, rootBottomTop,
        hasInit = false, curState;

      function setOptions(options) {
        var _options = options || {};
        _options.offsetBottom && (offsetBottom = _options.offsetBottom);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroll && (scroll = _options.scroll);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $scrollTarget = $(scrollTarget);
        isOverallScroller = window.isOverallScroller($scrollTarget[0]);
        $scroll = $(scroll);
      }
      function preCalc() {
        top();
        rootHeight = $root.outerHeight();
        rootTop = $root.offset().top + (isOverallScroller ? 0 :  $scrollTarget.scrollTop());
        rootLeft = $root.offset().left;
      }
      function calc(needPreCalc) {
        needPreCalc && preCalc();
        scrollBottom = $scroll.outerHeight() - offsetBottom - rootHeight;
        rootBottomTop = scrollBottom - rootTop;
      }
      function top() {
        if (curState !== 'top') {
          $root.removeClass('fixed').css({
            left: 0,
            top: 0
          });
          curState = 'top';
        }
      }
      function fixed() {
        if (curState !== 'fixed') {
          $root.addClass('fixed').css({
            left: rootLeft + 'px',
            top: 0
          });
          curState = 'fixed';
        }
      }
      function bottom() {
        if (curState !== 'bottom') {
          $root.removeClass('fixed').css({
            left: 0,
            top: rootBottomTop + 'px'
          });
          curState = 'bottom';
        }
      }
      function setState() {
        var scrollTop = $scrollTarget.scrollTop();
        if (scrollTop >= rootTop && scrollTop <= scrollBottom) {
          fixed();
        } else if (scrollTop < rootTop) {
          top();
        } else {
          bottom();
        }
      }
      function init() {
        if(!hasInit) {
          var interval, timeout;
          calc(true); setState();
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState();
          });
          $window.on('resize', function() {
            disabled || (calc(true), setState());
          });
          hasInit = true;
        }
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions,
        refresh: function() {
          calc(true, { animation: false }); setState();
        }
      };
    }
    $.fn.affix = affix;
  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    function toc(options) {
      var $root = this, $window = $(window), $scrollTarget, $scroller, $tocUl = $('<ul class="toc toc--ellipsis"></ul>'), $tocLi, $headings, $activeLast, $activeCur,
        selectors = 'h1,h2,h3', container = 'body', scrollTarget = window, scroller = 'html, body', disabled = false,
        headingsPos, scrolling = false, hasRendered = false, hasInit = false;

      function setOptions(options) {
        var _options = options || {};
        _options.selectors && (selectors = _options.selectors);
        _options.container && (container = _options.container);
        _options.scrollTarget && (scrollTarget = _options.scrollTarget);
        _options.scroller && (scroller = _options.scroller);
        _options.disabled !== undefined && (disabled = _options.disabled);
        $headings = $(container).find(selectors).filter('[id]');
        $scrollTarget = $(scrollTarget);
        $scroller = $(scroller);
      }
      function calc() {
        headingsPos = [];
        $headings.each(function() {
          headingsPos.push(Math.floor($(this).position().top));
        });
      }
      function setState(element, disabled) {
        var scrollTop = $scrollTarget.scrollTop(), i;
        if (disabled || !headingsPos || headingsPos.length < 1) { return; }
        if (element) {
          $activeCur = element;
        } else {
          for (i = 0; i < headingsPos.length; i++) {
            if (scrollTop >= headingsPos[i]) {
              $activeCur = $tocLi.eq(i);
            } else {
              $activeCur || ($activeCur = $tocLi.eq(i));
              break;
            }
          }
        }
        $activeLast && $activeLast.removeClass('active');
        ($activeLast = $activeCur).addClass('active');
      }
      function render() {
        if(!hasRendered) {
          $root.append($tocUl);
          $headings.each(function() {
            var $this = $(this);
            $tocUl.append($('<li></li>').addClass('toc-' + $this.prop('tagName').toLowerCase())
              .append($('<a></a>').text($this.text()).attr('href', '#' + $this.prop('id'))));
          });
          $tocLi = $tocUl.children('li');
          $tocUl.on('click', 'a', function(e) {
            e.preventDefault();
            var $this = $(this);
            scrolling = true;
            setState($this.parent());
            $scroller.scrollToAnchor($this.attr('href'), 400, function() {
              scrolling = false;
            });
          });
        }
        hasRendered = true;
      }
      function init() {
        var interval, timeout;
        if(!hasInit) {
          render(); calc(); setState(null, scrolling);
          // run calc every 100 millisecond
          interval = setInterval(function() {
            calc();
          }, 100);
          timeout = setTimeout(function() {
            clearInterval(interval);
          }, 45000);
          window.pageLoad.then(function() {
            setTimeout(function() {
              clearInterval(interval);
              clearTimeout(timeout);
            }, 3000);
          });
          $scrollTarget.on('scroll', function() {
            disabled || setState(null, scrolling);
          });
          $window.on('resize', window.throttle(function() {
            if (!disabled) {
              render(); calc(); setState(null, scrolling);
            }
          }, 100));
        }
        hasInit = true;
      }

      setOptions(options);
      if (!disabled) {
        init();
      }
      $window.on('resize', window.throttle(function() {
        init();
      }, 200));
      return {
        setOptions: setOptions
      };
    }
    $.fn.toc = toc;
  });
})();
/*(function () {

})();*/
</script><script>
  /* toc must before affix, since affix need to konw toc' height. */(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  var TOC_SELECTOR = window.TEXT_VARIABLES.site.toc.selectors;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window);
    var $articleContent = $('.js-article-content');
    var $tocRoot = $('.js-toc-root'), $col2 = $('.js-col-aside');
    var toc;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');
    var hasToc = $articleContent.find(TOC_SELECTOR).length > 0;

    function disabled() {
      return $col2.css('display') === 'none' || !hasToc;
    }

    tocDisabled = disabled();

    toc = $tocRoot.toc({
      selectors: TOC_SELECTOR,
      container: $articleContent,
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      tocDisabled = disabled();
      toc && toc.setOptions({
        disabled: tocDisabled
      });
    }, 100));

  });
})();
(function() {
  var SOURCES = window.TEXT_VARIABLES.sources;
  window.Lazyload.js(SOURCES.jquery, function() {
    var $window = $(window), $pageFooter = $('.js-page-footer');
    var $pageAside = $('.js-page-aside');
    var affix;
    var tocDisabled = false;
    var hasSidebar = $('.js-page-root').hasClass('layout--page--sidebar');

    affix = $pageAside.affix({
      offsetBottom: $pageFooter.outerHeight(),
      scrollTarget: hasSidebar ? '.js-page-main' : null,
      scroller: hasSidebar ? '.js-page-main' : null,
      scroll: hasSidebar ? $('.js-page-main').children() : null,
      disabled: tocDisabled
    });

    $window.on('resize', window.throttle(function() {
      affix && affix.setOptions({
        disabled: tocDisabled
      });
    }, 100));

    window.pageAsideAffix = affix;
  });
})();
</script>
    </div>
    <script>(function () {
  var $root = document.getElementsByClassName('root')[0];
  if (window.hasEvent('touchstart')) {
    $root.dataset.isTouch = true;
    document.addEventListener('touchstart', function(){}, false);
  }
})();
</script>
  </body>
</html>

